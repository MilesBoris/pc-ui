(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0df822"],{"89e0":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isEnd?t._e():i("div",{staticClass:"codeContent"},[i("div",{staticStyle:{width:"247px",height:"247px",margin:"0 auto","padding-top":"10px"}},[t.isShowQcode?i("img",{staticStyle:{width:"247px",height:"247px"},attrs:{src:t.cApi+"/payQRCoder.do?payUrl="+t.qrcodePath}}):t._e()]),i("div",{staticStyle:{"font-weight":"bold",color:"red","text-align":"center","padding-top":"10px"}},[t._v("付款及时到账，二维码请勿重复使用")]),t.isTimer>0?i("div",[i("div",{staticStyle:{"font-weight":"bold","text-align":"left","padding-left":"38px","padding-top":"10px"},domProps:{textContent:t._s("订单号："+t.orderNo)}}),i("div",{staticStyle:{"font-weight":"bold",color:"green","padding-left":"38px","padding-top":"10px"}},[t._v("付款二维码有效时间:\n        "),i("strong",[i("s"),t._v(" "+t._s(t.minute)+" 分")]),i("strong",[i("s"),t._v(" "+t._s(t.second)+" 秒")])])]):t._e(),t.isLoading?i("Spin",{attrs:{fix:""}},[i("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"load-c",size:"18"}}),i("div",[t._v("处理中...")])],1):t._e()],1),t.isEnd?i("div",{staticClass:"codeContent"},[t._m(0)]):t._e()])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{margin:"0 auto",width:"340px","padding-top":"20px","text-align":"center",color:"#ccc","font-weight":"bold","font-size":"32px"}},[i("p",[t._v("付款二维码已过期")]),i("p",[t._v("请重新生成付款码")])])}],r={props:{paramData:Object,defult:{}},data:function(){return{isLoading:!1,isShowQcode:!1,isTimer:0,orderNo:"",qrcodePath:"",minute:"",second:"",isEnd:!1}},methods:{mInit:function(){var t=this,e={apiid:this.paramData.apiid,serviceType:this.paramData.serviceType,apitypeid:this.paramData.apitypeid,orderAmount:this.paramData.orderAmount};this.isLoading=!0,this.$http.post(this.paramData.url,e).then(function(e){t.mLoading(!1),"0"==e.code?(t.isTimer=e.data.isTimer,t.orderNo=e.data.orderNo,t.qrcodePath=e.data.qrcoDepath,t.isShowQcode=!0,1*t.isTimer>0&&t.timer(),t.timerCheck=setTimeout(function(){t.checkorder()},1e4)):t.mClose(),t.isLoading=!1}).catch(function(e){t.mClose()})},timer:function(){var t=this;this.djs=window.setInterval(function(){var e=0,i=0;t.isTimer>0&&(t.minute=Math.floor(t.isTimer/60)-24*e*60-60*i,t.second=Math.floor(t.isTimer)-24*e*60*60-60*i*60-60*t.minute),t.isTimer--,t.isTimer<=0&&(t.isEnd=!0,null!=t.djs&&window.clearInterval(t.djs),null!=t.timerCheck&&clearTimeout(t.timerCheck))},1e3)},checkorder:function(){var t=this;this.$http.post("/recharge/rechargeState.json?id="+this.orderNo,{}).then(function(e){0==e.code?1==e.data||3==e.data?(t.mAlert("恭喜，充值成功！",function(){t.mClose()},"success"),null!=t.timerCheck&&clearTimeout(t.timerCheck)):2==e.data?(t.mAlert("抱歉，充值失败请联系客服！",function(){t.mClose()},"error"),null!=t.timerCheck&&clearTimeout(t.timerCheck)):t.timerCheck=setTimeout(function(){t.checkorder()},2e3):t.timerCheck=setTimeout(function(){t.checkorder()},2e3)})},mClose:function(){this.$emit("closecallback")}},created:function(){this,this.mInit()},destroyed:function(){void 0,null!=this.djs&&window.clearInterval(this.djs),null!=this.timerCheck&&clearTimeout(this.timerCheck)}},a=r,s=i("2877"),d=Object(s["a"])(a,o,n,!1,null,null,null);d.options.__file="CreateQrCode.vue";e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0df822.4f3a079c.js.map