{"version":3,"sources":["webpack:///./src/views/Member/CreateQrCode.vue?13c4","webpack:///src/views/Member/CreateQrCode.vue","webpack:///./src/views/Member/CreateQrCode.vue?afb0","webpack:///./src/views/Member/CreateQrCode.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","isEnd","_e","staticClass","staticStyle","width","height","margin","padding-top","attrs","src","cApi","qrcodePath","font-weight","color","text-align","_v","isTimer","padding-left","domProps","textContent","_s","orderNo","minute","second","fix","type","size","_m","staticRenderFns","font-size","CreateQrCodevue_type_script_lang_js_","props","paramData","Object","defult","data","isLoading","isShowQcode","methods","mInit","_this2","param","apiid","serviceType","apitypeid","orderAmount","$http","post","url","then","result","mLoading","code","qrcoDepath","timer","timerCheck","setTimeout","checkorder","mClose","catch","error","_this3","djs","window","setInterval","d","h","Math","floor","clearInterval","clearTimeout","_this4","mAlert","$emit","created","destroyed","undefined","Member_CreateQrCodevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAJ,EAAAM,MAAygCN,EAAAO,KAAzgCH,EAAA,OAAwCI,YAAA,gBAA0BJ,EAAA,OAAYK,aAAaC,MAAA,QAAAC,OAAA,QAAAC,OAAA,SAAAC,cAAA,UAAyEb,EAAA,YAAAI,EAAA,OAA8BK,aAAaC,MAAA,QAAAC,OAAA,SAAiCG,OAAQC,IAAAf,EAAAgB,KAAA,yBAAAhB,EAAAiB,cAAwDjB,EAAAO,OAAAH,EAAA,OAAuBK,aAAaS,cAAA,OAAAC,MAAA,MAAAC,aAAA,SAAAP,cAAA,UAA+Eb,EAAAqB,GAAA,sBAAArB,EAAAsB,QAAA,EAAAlB,EAAA,OAAAA,EAAA,OAAmEK,aAAaS,cAAA,OAAAE,aAAA,OAAAG,eAAA,OAAAV,cAAA,QAAoFW,UAAWC,YAAAzB,EAAA0B,GAAA,OAAA1B,EAAA2B,YAA0CvB,EAAA,OAAYK,aAAaS,cAAA,OAAAC,MAAA,QAAAI,eAAA,OAAAV,cAAA,UAAiFb,EAAAqB,GAAA,wBAAAjB,EAAA,UAAAA,EAAA,KAAAJ,EAAAqB,GAAA,IAAArB,EAAA0B,GAAA1B,EAAA4B,QAAA,QAAAxB,EAAA,UAAAA,EAAA,KAAAJ,EAAAqB,GAAA,IAAArB,EAAA0B,GAAA1B,EAAA6B,QAAA,YAAA7B,EAAAO,KAAAP,EAAA,UAAAI,EAAA,QAA+LU,OAAOgB,IAAA,MAAU1B,EAAA,QAAaI,YAAA,sBAAAM,OAAyCiB,KAAA,SAAAC,KAAA,QAA6B5B,EAAA,OAAAJ,EAAAqB,GAAA,gBAAArB,EAAAO,MAAA,GAAAP,EAAA,MAAAI,EAAA,OAA+EI,YAAA,gBAA0BR,EAAAiC,GAAA,KAAAjC,EAAAO,QAC3sC2B,GAAA,WAAoC,IAAAlC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBK,aAAaG,OAAA,SAAAF,MAAA,QAAAG,cAAA,OAAAO,aAAA,SAAAD,MAAA,OAAAD,cAAA,OAAAiB,YAAA,UAAqI/B,EAAA,KAAAJ,EAAAqB,GAAA,cAAAjB,EAAA,KAAAJ,EAAAqB,GAAA,kBCmDtQe,GACAC,OACAC,UAAAC,OACAC,WAEAC,KALA,WAMA,OACAC,WAAA,EACAC,aAAA,EACArB,QAAA,EACAK,QAAA,GACAV,WAAA,GACAW,OAAA,GACAC,OAAA,GACAvB,OAAA,IAGAsC,SACAC,MADA,WACA,IAAAC,EAAA7C,KACA8C,GACAC,MAAA/C,KAAAqC,UAAAU,MACAC,YAAAhD,KAAAqC,UAAAW,YACAC,UAAAjD,KAAAqC,UAAAY,UACAC,YAAAlD,KAAAqC,UAAAa,aAEAlD,KAAAyC,WAAA,EACAzC,KAAAmD,MAAAC,KAAApD,KAAAqC,UAAAgB,IAAAP,GAAAQ,KAAA,SAAAC,GACAV,EAAAW,UAAA,GACA,KAAAD,EAAAE,MAEAZ,EAAAxB,QAAAkC,EAAAf,KAAAnB,QACAwB,EAAAnB,QAAA6B,EAAAf,KAAAd,QACAmB,EAAA7B,WAAAuC,EAAAf,KAAAkB,WACAb,EAAAH,aAAA,EACA,EAAAG,EAAAxB,QAAA,GAEAwB,EAAAc,QAEAd,EAAAe,WAAAC,WAAA,WAAAhB,EAAAiB,cAAA,MAGAjB,EAAAkB,SAEAlB,EAAAJ,WAAA,IACAuB,MAAA,SAAAC,GACApB,EAAAkB,YAGAJ,MA/BA,WA+BA,IAAAO,EAAAlE,KACAA,KAAAmE,IAAAC,OAAAC,YAAA,WACA,IAAAC,EAAA,EACAC,EAAA,EAGAL,EAAA7C,QAAA,IACA6C,EAAAvC,OAAA6C,KAAAC,MAAAP,EAAA7C,QAAA,OAAAiD,EAAA,MAAAC,EACAL,EAAAtC,OAAA4C,KAAAC,MAAAP,EAAA7C,SAAA,GAAAiD,EAAA,SAAAC,EAAA,MAAAL,EAAAvC,QAEAuC,EAAA7C,UACA6C,EAAA7C,SAAA,IACA6C,EAAA7D,OAAA,EACA,MAAA6D,EAAAC,KACAC,OAAAM,cAAAR,EAAAC,KAEA,MAAAD,EAAAN,YACAe,aAAAT,EAAAN,cAGA,MAEAE,WArDA,WAsDA,IAAAc,EAAA5E,KACAA,KAAAmD,MAAAC,KAAA,mCAAApD,KAAA0B,YAAA4B,KAAA,SAAAC,GACA,GAAAA,EAAAE,KAEA,GAAAF,EAAAf,MAAA,GAAAe,EAAAf,MAEAoC,EAAAC,OAAA,sBAAAD,EAAAb,UAAA,WACA,MAAAa,EAAAhB,YACAe,aAAAC,EAAAhB,aAGA,GAAAL,EAAAf,MAEAoC,EAAAC,OAAA,2BAAAD,EAAAb,UAAA,SACA,MAAAa,EAAAhB,YACAe,aAAAC,EAAAhB,aAIAgB,EAAAhB,WAAAC,WAAA,WAAAe,EAAAd,cAAA,KAIAc,EAAAhB,WAAAC,WAAA,WAAAe,EAAAd,cAAA,QAIAC,OAjFA,WAkFA/D,KAAA8E,MAAA,mBAGAC,QAtGA,WAuGA/E,KACAA,KAAA4C,SAEAoC,UA1GA,gBA2GAC,EACA,MAAAjF,KAAAmE,KACAC,OAAAM,cAAA1E,KAAAmE,KAEA,MAAAnE,KAAA4D,YACAe,aAAA3E,KAAA4D,cCpKqWsB,EAAA,cCOrWC,EAAgB7C,OAAA8C,EAAA,KAAA9C,CACd4C,EACApF,EACAmC,GACF,EACA,KACA,KACA,MAIAkD,EAAAE,QAAAC,OAAA,mBACeC,EAAA,WAAAJ","file":"static/js/chunk-2d0df822.4f3a079c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.isEnd)?_c('div',{staticClass:\"codeContent\"},[_c('div',{staticStyle:{\"width\":\"247px\",\"height\":\"247px\",\"margin\":\"0 auto\",\"padding-top\":\"10px\"}},[(_vm.isShowQcode)?_c('img',{staticStyle:{\"width\":\"247px\",\"height\":\"247px\"},attrs:{\"src\":_vm.cApi+'/payQRCoder.do?payUrl='+_vm.qrcodePath}}):_vm._e()]),_c('div',{staticStyle:{\"font-weight\":\"bold\",\"color\":\"red\",\"text-align\":\"center\",\"padding-top\":\"10px\"}},[_vm._v(\"付款及时到账，二维码请勿重复使用\")]),(_vm.isTimer>0)?_c('div',[_c('div',{staticStyle:{\"font-weight\":\"bold\",\"text-align\":\"left\",\"padding-left\":\"38px\",\"padding-top\":\"10px\"},domProps:{\"textContent\":_vm._s('订单号：'+_vm.orderNo)}}),_c('div',{staticStyle:{\"font-weight\":\"bold\",\"color\":\"green\",\"padding-left\":\"38px\",\"padding-top\":\"10px\"}},[_vm._v(\"付款二维码有效时间:\\n        \"),_c('strong',[_c('s'),_vm._v(\" \"+_vm._s(_vm.minute)+\" 分\")]),_c('strong',[_c('s'),_vm._v(\" \"+_vm._s(_vm.second)+\" 秒\")])])]):_vm._e(),(_vm.isLoading)?_c('Spin',{attrs:{\"fix\":\"\"}},[_c('Icon',{staticClass:\"demo-spin-icon-load\",attrs:{\"type\":\"load-c\",\"size\":\"18\"}}),_c('div',[_vm._v(\"处理中...\")])],1):_vm._e()],1):_vm._e(),(_vm.isEnd)?_c('div',{staticClass:\"codeContent\"},[_vm._m(0)]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"0 auto\",\"width\":\"340px\",\"padding-top\":\"20px\",\"text-align\":\"center\",\"color\":\"#ccc\",\"font-weight\":\"bold\",\"font-size\":\"32px\"}},[_c('p',[_vm._v(\"付款二维码已过期\")]),_c('p',[_vm._v(\"请重新生成付款码\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div\n      class=\"codeContent\"\n      v-if=\"!isEnd\"\n    >\n      <div style='width: 247px; height: 247px; margin: 0 auto; padding-top: 10px;'>\n        <img\n          v-if=\"isShowQcode\"\n          :src=\"cApi+'/payQRCoder.do?payUrl='+qrcodePath\"\n          style=\"width:247px; height:247px;\"\n        />\n        <!-- <img :src=\"qrcodePath\"  style=\"width:247px; height:247px;\" /> -->\n      </div>\n      <div style=\"font-weight:bold;color:red;text-align:center;padding-top:10px;\">付款及时到账，二维码请勿重复使用</div>\n      <div v-if=\"isTimer>0\">\n        <div\n          style=\"font-weight:bold;text-align:left;padding-left:38px;padding-top:10px;\"\n          v-text=\"'订单号：'+orderNo\"\n        ></div>\n        <div style=\"font-weight:bold;color:green;padding-left:38px;padding-top:10px;\">付款二维码有效时间:\n          <strong><s></s> {{minute}} 分</strong>\n          <strong><s></s> {{second}} 秒</strong>\n        </div>\n      </div>\n      <Spin\n        fix\n        v-if=\"isLoading\"\n      >\n        <Icon\n          type=\"load-c\"\n          size=18\n          class=\"demo-spin-icon-load\"\n        ></Icon>\n        <div>处理中...</div>\n      </Spin>\n    </div>\n    <div\n      class=\"codeContent\"\n      v-if=\"isEnd\"\n    >\n      <div style='margin:0 auto; width:340px;padding-top:20px; text-align:center; color:#ccc;font-weight:bold; font-size:32px;'>\n        <p>付款二维码已过期</p>\n        <p>请重新生成付款码</p>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nvar _this;\nlet djs=null;//倒计时\nlet timerCheck=null;\nexport default {\n    props: {\n        paramData:Object,\n        defult:{}\n    },\n    data(){\n        return{\n            isLoading:false,\n            isShowQcode:false,\n            isTimer:0,\n            orderNo:'',\n            qrcodePath:'',\n            minute:'',\n            second:'',\n            isEnd:false,\n        }\n    },\n    methods: {\n        mInit() {\n            let param={\n                apiid:this.paramData.apiid,\n                serviceType:this.paramData.serviceType,\n                apitypeid:this.paramData.apitypeid,\n                orderAmount:this.paramData.orderAmount,\n            };\n            this.isLoading = true;\n            this.$http.post(this.paramData.url,param).then((result) => {\n                this.mLoading(false);\n                if(result.code=='0')\n                {\n                    this.isTimer=result.data.isTimer;\n                    this.orderNo=result.data.orderNo;\n                    this.qrcodePath=result.data.qrcoDepath;\n                    this.isShowQcode=true;\n                    if ( this.isTimer * 1 >0)\n                    {\n                        this.timer();\n                    }\n                    this.timerCheck= setTimeout(()=>{this.checkorder()}, 10000);\n                    //console.log(result.data);\n                }else{\n                    this.mClose();\n                }\n                this.isLoading = false;\n            }).catch(error=>{\n                this.mClose();\n            });\n        },\n        timer(){\n             this.djs = window.setInterval( () =>{\n                var d = 0,\n                    h = 0;\n                    //minute = 0,\n                   // second = 0;//时间默认值\n                if (this.isTimer > 0) {\n                    this.minute = Math.floor(this.isTimer / 60) - (d * 24 * 60) - (h * 60);\n                    this.second = Math.floor(this.isTimer) - (d * 24 * 60 * 60) - (h * 60 * 60) - (this.minute * 60);\n                }\n                this.isTimer--;\n                if (this.isTimer <= 0) {\n                    this.isEnd=true;\n                    if (this.djs != null) {\n                        window.clearInterval(this.djs);\n                    }\n                    if (this.timerCheck != null) {\n                        clearTimeout(this.timerCheck);\n                    }\n                }\n            }, 1000);\n        },\n        checkorder()\n        {\n             this.$http.post(\"/recharge/rechargeState.json?id=\"+this.orderNo,{}).then((result) => {\n                 if(result.code==0)\n                 {\n                     if(result.data==1 || result.data==3)\n                     {\n                        this.mAlert(\"恭喜，充值成功！\",()=>{this.mClose()},\"success\");\n                        if (this.timerCheck != null) {\n                            clearTimeout(this.timerCheck);\n                        }\n                     }\n                     else if(result.data==2)\n                     {\n                        this.mAlert(\"抱歉，充值失败请联系客服！\",()=>{this.mClose()},\"error\");\n                        if (this.timerCheck != null) {\n                            clearTimeout(this.timerCheck);\n                        }\n                     }\n                     else {\n                        this.timerCheck=setTimeout(()=>{this.checkorder()}, 2000);\n                    }\n                 }\n                 else {\n                    this.timerCheck=setTimeout(()=>{this.checkorder()}, 2000);\n                }\n             });\n        },\n        mClose() {\n            this.$emit(\"closecallback\");\n        },\n    },\n    created() {\n        _this = this;\n        this.mInit();\n    },\n    destroyed() {\n        _this = undefined;\n        if (this.djs != null) {\n            window.clearInterval(this.djs);\n        }\n        if (this.timerCheck != null) {\n            clearTimeout(this.timerCheck);\n        }\n    }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateQrCode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateQrCode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateQrCode.vue?vue&type=template&id=06b5a190&\"\nimport script from \"./CreateQrCode.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateQrCode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"CreateQrCode.vue\"\nexport default component.exports"],"sourceRoot":""}