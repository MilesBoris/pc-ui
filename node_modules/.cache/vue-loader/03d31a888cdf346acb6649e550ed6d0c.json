{"remainingRequest":"/Users/hw/work/memberVueD/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hw/work/memberVueD/src/views/Games/eGame.vue?vue&type=style&index=0&id=cb48abee&scoped=true&lang=css&","dependencies":[{"path":"/Users/hw/work/memberVueD/src/views/Games/eGame.vue","mtime":1553573642981},{"path":"/Users/hw/work/memberVueD/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js","mtime":1552395991950},{"path":"/Users/hw/work/memberVueD/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.search-btn {\n    display: block;\n    background: url(//image.beike188.com/KFY/images/slot/icon-search.png) no-repeat;\n    border-bottom: 0;\n    width: 18px;\n    height: 18px;\n    position: absolute;\n    top: 8px;\n    right: 16px;\n    margin: 0;\n    border: none;\n}\n\n.slot .main .tab ul li:hover {\n    border-bottom: 2px solid #cc2944;\n    color: #fff;\n}\n\n.slot .main .tab ul li:visited {\n    border-bottom: 2px solid #cc2944;\n    color: yellow;\n}\n",{"version":3,"sources":["eGame.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"eGame.vue","sourceRoot":"src/views/Games","sourcesContent":["<template>\n    <div class=\"container slot \" style=\"margin-top: 70px; position: relative\">\n        <div style=\"width: 100%; position: relative;overflow: hidden;\">\n            <div class=\"fullSlide\">\n                <div class=\"bd bd1\">\n                    <div id=\"homeSwiper\" class=\"swiper-container\">\n                        <img style=\"max-width:100%;\" src=\"//image.beike188.com/KFY/images/slot/banner-game_1.jpg\">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"feature\">\n            <div class=\"content\" style=\"display: flex;justify-content: space-between\">\n                <div class=\"col col1\">\n                    <div class=\"prize\">\n                        CNY\n                        <span class=\"jackpot-count\" id=\"prize1\" data-provider=\"AG\">￥\n                            <IOdometer\n                                    class=\"iOdometer\"\n                                    :value=\"ag\"\n                                    format=\"(,ddd).dd\"\n                                    animation=\"count\"\n                            />\n                        </span>\n                    </div>\n                    <p>AG电游总奖池</p>\n                </div>\n                <div class=\"col col2\">\n                    <div class=\"prize\">\n                        CNY\n                        <span class=\"jackpot-count\" id=\"prize2\" data-provider=\"PT\">￥\n                            <IOdometer\n                                    class=\"iOdometer\"\n                                    :value=\"pt\"\n                                    format=\"(,ddd).dd\"\n                                    animation=\"count\"\n                            />\n                    </span>\n                    </div>\n                    <p>TGP电游总奖池</p>\n                </div>\n                <div class=\"col col3\">\n                    <div class=\"prize\">\n                        CNY\n                        <span class=\"jackpot-count\" id=\"prize3\" data-provider=\"MG\">￥\n                        <IOdometer\n                                class=\"iOdometer\"\n                                :value=\"mg\"\n                                format=\"(,ddd).dd\"\n                                animation=\"count\"\n                        />\n                    </span>\n                    </div>\n                    <p>DT电游总奖池</p>\n                </div>\n            </div>\n        </div>\n        <div class=\"main\">\n            <div class=\"content\">\n                <div class=\"tab\" id=\"providerGroup\">\n                    <div style=\"background: #1e1e1e;overflow: hidden;\">\n                        <ul>\n                            <li v-for=\"(room,index) in gameRooms\" :key=\"index\" :class=\"{'on':room.isSelect}\"\n                                @click=\"mGameRoomSelect(room.gameCompanyId)\"\n                                style=\"width: 107px;height: 40px;background: #1e1e1e; text-align: center; position: relative; cursor: pointer; float: left;list-style: none;\">\n                                <p class=\"tit\" v-text=\"room.gameName\"\n                                   style=\"font-size: 14px;line-height: 44px;font-weight: 200; color: #999;\">\n                                </p>\n                            </li>\n                        </ul>\n                    </div>\n                    <div class=\"search\" style=\"display:block;\">\n                        <input type=\"text\" class=\"search-input\" id=\"game_input\" placeholder=\"搜索游戏\"\n                               @change=\"mSearchGameByKey\" v-model=\"searchGameKey\">\n                        <!--  id=\"searchPart1\"  -->\n                        <button class=\"search-btn\" id=\"game_searchdo\"></button>\n                    </div>\n                </div>\n                <div id=\"searchPart2\" class=\"tab-content\">\n                    <div class=\"filter\">\n                        <div class=\"filter-group\" id=\"game_nav_bar\">\n                            <a href=\"javascript:void(0);\" class=\"active\" id=\"partAll\">{{gName}}</a>\n                            <a href=\"javascript:void(0);\" id=\"partAG\" @click=\"mSearchGameByKey(0)\">全部</a>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"tab-content\" id=\"the_content\" style=\"display: block\">\n                    <div id=\"gamesTable\">\n                        <div class=\"content_listNumb_box\">\n                            <div class=\"game game2\" v-for=\"(game,index) in games\" :key=\"index\">\n                                <img :src=\"game.prcUrl\" style=\"width: 100%; height: 100%\">\n                                <div class=\"game-details\">\n                                    <p class=\"game-title\" v-text=\"game.value\"></p>\n                                    <div class=\"likes\">\n                                        <span class=\"icon-flame\"></span>\n                                    </div>\n                                </div>\n                                <span class=\"game-mask\"></span>\n                                <div class=\"game-hover games\">\n                                    <h5 v-text=\"game.value\">108好汉</h5><a href=\"###\" class=\"game-btn gamein\"\n                                                                         @click=\"mEnterGame(game.id)\">立即游戏</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"clear\"></div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</template>\n<script>\n\n  import IOdometer from 'vue-odometer'\n  import 'odometer/themes/odometer-theme-default.css'\n\n  let agTimer, ptTimer, mgTimer\n  export default {\n    name: 'eGame',\n    components: { IOdometer },\n    data () {\n      return {\n        ag: 4206340,\n        pt: 5706770,\n        mg: 6502960,\n        format: '',\n        duration: 2000,\n        animation: '',\n        gameRooms: [\n          // {\n          //   roomId: 501,\n          //   roomName: \"KG厅\",\n          //   isSelect: true,\n          //   img1: \"/static/images/lottory/app-bg-pt1.png\",\n          //   img2: \"/static/images/lottory/app-bg-pt2.png\"\n          // },\n          // {\n          //   roomId: 503,\n          //   roomName: \"DT厅\",\n          //   isSelect: false,\n          //   img1: \"/static/images/lottory/app-bg-dt1.png\",\n          //   img2: \"/static/images/lottory/app-bg-dt2.png\"\n          // }\n          // {\n          //   roomId: 502,\n          //   roomName: \"TGP厅\",\n          //   isSelect: false,\n          //   img1: \"/static/images/lottory/app-bg-png1.png\",\n          //   img2: \"/static/images/lottory/app-bg-png2.png\"\n          // }\n        ],\n        games: [], //{id,value,prcUrl}\n        searchGameKey: '',\n        sGames: [],\n        gName:\"\",\n      }\n    },\n    computed: {\n      cSelectGameRoom: function () {\n        return this.gameRooms.find(r => r.isSelect == true)\n      },\n      cGongGaos: function () {\n        return this.$store.getters.getGonggaos\n      }\n    },\n    mounted () {\n      this.$http.post('/gamesbytypedisc.json', { sysId: 0 }).then(result => {\n        if (result.code == 0) {\n          let list = !!result.data.companyCustomGames\n            ? result.data.companyCustomGames\n            : []\n          this.gameRooms = []\n          list.forEach((ele, i) => {\n            if (ele.typeId == 5) {\n              ele.isSelect = false\n              this.gameRooms.push(ele)\n            }\n          })\n          this.gameRooms.length > 0 &&\n          this.mGameRoomSelect(this.gameRooms[0].gameCompanyId)\n        }\n      })\n    },\n    methods: {\n      mGameRoomSelect (gameCompanyId) {\n        let room\n        this.gameRooms.map(r => {\n          r.isSelect == false\n          if (r.gameCompanyId === gameCompanyId) {\n            r.isSelect = true\n            room = r\n          } else {\n            r.isSelect = false\n            room = r\n          }\n        })\n\n        this.gName=this.gameRooms.find(r => r.isSelect == true).gameName;\n\n        if (!!room) {\n          this.$http\n            .get('/managerGame/gamePlays.json?id=' + gameCompanyId)\n            .then(result => {\n              if (result.code == 0) {\n                this.games = result.data.playlist\n                this.sGames = this.games\n              }\n            })\n        }\n      },\n      mEnterGame (gameid) {\n        if (this.cNeedLogin) {\n          this.mAlert('请先登陆！')\n          return\n        }\n        this.mLoading(true)\n        this.$http\n          .post('/managerGame/getMemberGameUrl.json', {\n            username: this.cLoginUser.username,\n            gameCompanyId: this.cSelectGameRoom.gameCompanyId,\n            gameId: gameid\n          })\n          .then(result => {\n            this.mLoading(false)\n            if (result.code == 0) {\n              setTimeout(() => {\n                var winHandler = window.open('', '_blank')\n                winHandler.location.href = result.data.dgUrl.pcUrl\n              }, 300)\n            } else {\n              this.mAlert(result.message)\n            }\n          })\n          .catch(error => {\n            this.mAlert('游戏正忙，请稍后再试...')\n          })\n      },\n      getAg () {\n        if (agTimer) {\n          clearTimeout(agTimer)\n        }\n        agTimer = setTimeout(() => {\n          this.ag = this.ag + randomNum(2000)\n          this.getAg()\n        }, randomNum(8000))\n      },\n\n      getPt () {\n        if (ptTimer) {\n          clearTimeout(ptTimer)\n        }\n        this.pt = this.pt + randomNum(2000)\n        ptTimer = setTimeout(() => {\n          this.getPt()\n        }, randomNum(8000))\n      },\n\n      getMg () {\n        if (mgTimer) {\n          clearTimeout(mgTimer)\n        }\n        this.mg = this.mg + randomNum(2000)\n        mgTimer = setTimeout(() => {\n          this.getMg()\n        }, randomNum(8000))\n      },\n      // mEnterCompanyGame(gameid) {\n      //   if (this.cNeedLogin) {\n      //     this.mAlert(\"请先登陆！\");\n      //     return;\n      //   }\n      //   this.mLoading(true);\n      //   this.$http\n      //     .post(\"/managerGame/getMemberGameUrl.json\", {\n      //       username: this.cLoginUser.username,\n      //       gameCompanyId: gameid,\n      //       gameId: \"\"\n      //     })\n      //     .then(result => {\n      //       this.mLoading(false);\n      //       if (result.code == 0) {\n      //         setTimeout(() => {\n      //           var winHandler = window.open(\"\", \"_blank\");\n      //           winHandler.location.href = result.data.dgUrl.pcUrl;\n      //         }, 300);\n      //       } else {\n      //         this.mAlert(result.message);\n      //       }\n      //     })\n      //     .catch(error => {\n      //       this.mAlert(\"游戏正忙，请稍后再试...\");\n      //     });\n      // },\n      mSearchGameByKey (k) {\n        this.games = []\n        if (k === 0) {\n          this.searchGameKey = ''\n          this.games = Object.assign([], this.sGames)\n        } else {\n          this.games = this.sGames.filter(\n            g => g.value.indexOf(this.searchGameKey) >= 0\n          )\n        }\n      }\n    },\n    created () {\n      //随机1-5秒内 增加1-3000数值\n      this.getAg()\n      this.getPt()\n      this.getMg()\n    }\n  }\n\n  function randomNum (max) {\n    let random = Math.floor(Math.random() * max + 1)\n    return random\n  }\n</script>\n<style scoped>\n    .search-btn {\n        display: block;\n        background: url(//image.beike188.com/KFY/images/slot/icon-search.png) no-repeat;\n        border-bottom: 0;\n        width: 18px;\n        height: 18px;\n        position: absolute;\n        top: 8px;\n        right: 16px;\n        margin: 0;\n        border: none;\n    }\n\n    .slot .main .tab ul li:hover {\n        border-bottom: 2px solid #cc2944;\n        color: #fff;\n    }\n\n    .slot .main .tab ul li:visited {\n        border-bottom: 2px solid #cc2944;\n        color: yellow;\n    }\n</style>\n\n\n"]}]}