{"remainingRequest":"/Users/hw/work/memberVueD/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hw/work/memberVueD/src/views/Member/UserCenter.vue?vue&type=style&index=0&id=871cb52a&scoped=true&lang=css&","dependencies":[{"path":"/Users/hw/work/memberVueD/src/views/Member/UserCenter.vue","mtime":1555681634108},{"path":"/Users/hw/work/memberVueD/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js","mtime":1552395991950},{"path":"/Users/hw/work/memberVueD/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.demo-spin-container {\n  display: inline-block;\n  width: 200px;\n  height: 100px;\n  position: relative;\n  border: 1px solid #eee;\n}\n.level-ico{\n  display: inline-block;\n  height: 25px;\n  overflow: hidden;\n  width: 22px;\n}\n\n.level_img_vip0 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0 -5px;  background-size: 22px auto;}\n\n.level_img_vip1 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -33px;  background-size: 22px auto;}\n\n.level_img_vip2 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -60px;  background-size: 22px auto;}\n\n.level_img_vip3 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -88px;  background-size: 22px auto;}\n\n.level_img_vip4 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -115px;  background-size: 22px auto;}\n\n.level_img_vip5 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -143px;  background-size: 22px auto;}\n\n.level_img_vip6 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -170px;  background-size: 22px auto;}\n\n.level_img_vip7 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -198px;  background-size: 22px auto;}\n\n.level_img_vip8 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -226px;  background-size: 22px auto;}\n\n.level-name {\n  font-size: 12px;\n  margin-left: 5px;\n  color: #000;\n}\n.tips {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n  .user_title{\n    width: 70px;\n    display: inline-block;;\n  }\n",{"version":3,"sources":["UserCenter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserCenter.vue","sourceRoot":"src/views/Member","sourcesContent":["<template>\n  <div\n    class=\"container user_con\"\n    style=\"margin-top: 72px;\"\n  >\n    <div class=\"user_left fl\">\n      <ul>\n        <li class=\"active\">\n          <router-link :to=\"{name:'UserCenter'}\">个人资料\n          </router-link>\n        </li>\n        <li>\n          <router-link :to=\"{name:'SafePassword'}\">安全管理\n          </router-link>\n        </li>\n        <li>\n          <router-link :to=\"{name:'FinanceCenter'}\">财务中心\n          </router-link>\n        </li>\n        <li>\n          <router-link :to=\"{name:'ReportTransfer'}\">客户报表</router-link>\n        </li>\n        <li v-if=\"this.agnetLevel>0\">\n          <router-link :to=\"{name:'AgentThat'}\">代理管理</router-link>\n        </li>\n        <li v-if=\"this.agnetLevel>0\">\n          <router-link :to=\"{name:'MembermanAgement'}\">代理报表</router-link>\n        </li>\n        <li>\n          <router-link :to=\"{name:'ServiceCenter'}\">服务中心</router-link>\n        </li>\n        <li>\n          <router-link :to=\"{name:'ConversionRecord'}\">商城中心</router-link>\n        </li>\n      </ul>\n    </div>\n    <div class=\"user_right \">\n      <div class=\"userbasic_head\">\n        <router-link\n          :to=\"{name:'UserCenter'}\"\n          class=\"active\"\n        >基本信息</router-link>\n        <router-link :to=\"{name:'DeliveryAdd'}\">收货信息</router-link>\n        <router-link :to=\"{name:'BankLoad'}\">银行资料</router-link>\n        <router-link :to=\"{name:'MessageList'}\">站内消息</router-link>\n      </div>\n      <div\n        class=\"userbasic_con\"\n        style=\"padding-top:0\"\n      >\n        <div class=\"bank_tips\">温馨提示：开户姓名无法修改;绑定的银行卡必须和注册绑定姓名一致，否则无法提款!</div>\n        <div class=\"basic_module\">\n          <div class=\"basic_left\">\n            <p class=\"tips\">您好，\n              <span class=\"name\" v-text=\"cLoginUser.username\"></span>\n              <span class=\"level-ico level_img_vip0\" v-if=\"this.memberLevel==0\"></span>\n              <span class=\"level-ico level_img_vip1\" v-else-if=\"this.memberLevel==1\"></span>\n              <span class=\"level-ico level_img_vip2\" v-else-if=\"this.memberLevel==2\"></span>\n              <span class=\"level-ico level_img_vip3\" v-else-if=\"this.memberLevel==3\"></span>\n              <span class=\"level-ico level_img_vip4\" v-else-if=\"this.memberLevel==4\"></span>\n              <span class=\"level-ico level_img_vip5\" v-else-if=\"this.memberLevel==5\"></span>\n              <span class=\"level-ico level_img_vip6\" v-else-if=\"this.memberLevel==6\"></span>\n              <span class=\"level-ico level_img_vip7\" v-else-if=\"this.memberLevel==7\"></span>\n              <span class=\"level-ico level_img_vip8\" v-else-if=\"this.memberLevel==8\"></span>\n              <span v-text=\"vm.memberLevelName\" class=\"level-name\"></span>\n            </p>\n            <p class=\"level_tips\">您的账户安全等级：\n              <span class=\"level_line\">\n                <span class=\"level\" levelnum=\"30%\" style=\"width: 30%;\"></span>\n              </span>低\n              <router-link :to=\"{name:'LoginPassword'}\" class=\"change_psw\">更换密码</router-link>\n\n              <div class=\"basic_modify\" v-if=\"bindBank.drawAccountType < 1\">\n                <a class=\"after\" @click=\"mAddBankCard\">\n                  <i class=\"iconfont \" style=\"color:#000;\">👉</i>绑定银行卡</a>\n              </div>\n              <div class=\"basic_modify\" v-else>\n                <i class=\"iconfont \" style=\"color:green;\">✔</i>绑定银行卡\n              </div>\n          </div>\n          <div class=\"basic_right\">\n          </div>\n        </div>\n      </div>\n      <ul class=\"gameroom_list\" v-if=\"walletlist.length>0\">\n        <li\n          v-for=\"item in walletlist\"\n          :key=\"item.gameCompanyId\"\n          v-if=\"item.gameCompanyId>1\"\n          style=\"list-style: none;\"\n        >\n          <p class=\"name api_name\">{{item.gameCompanyName}} <span class=\"pos\" v-if=\"item.coin!=-1\">{{item.coin / 100}}</span>\n            <a\n              class=\"refresh\"\n              @click=\"mGetCoin(item)\"\n            ></a></p>\n          <!--<p class=\"account\" style=\"padding-left:none;\">游戏账号：<span-->\n              <!--class=\"viceColor\"-->\n              <!--data-username=\"已开通\"-->\n            <!--&gt; 未开通 </span></p>-->\n        </li>\n      </ul>\n      <div\n        style=\"width:100%;height:150px;\"\n        class=\"demo-spin-container\"\n        v-if=\"walletlist.length==0\"\n        relative\n      >\n        <Spin fix></Spin>\n      </div>\n      <div class=\"basic_info\">\n        <h3 class=\"head_line\">\n          <span class=\"tit\">个人资料</span>\n        </h3>\n        <ul class=\"list\" style=\"margin-top: 15px\">\n          <li>\n            <span class=\"user_title\">姓名</span>\n            <Input\n              style=\"width: 300px\"\n              ref=\"realName\"\n              v-model=\"vm.realName\"\n            />\n          </li>\n          <li>\n            <span class=\"user_title\">联系电话</span>\n            <Input\n              style=\"width: 300px\"\n              ref=\"mobile\"\n              v-model=\"vm.mobile\"\n            />\n          </li>\n          <li>\n            <span class=\"user_title\">联系QQ</span>\n            <Input\n              style=\"width: 300px\"\n              v-model=\"vm.qq\"\n            />\n          </li>\n          <li>\n            <span class=\"user_title\">微信</span>\n            <Input\n              style=\"width: 300px\"\n              v-model=\"vm.weixin\"\n            />\n          </li>\n        </ul>\n        <div>\n          <Button\n            style=\"margin:0 auto; display:block\"\n            type=\"warning\"\n            @click=\"mSave\"\n          >提交</Button>\n        </div>\n      </div>\n      <!-- <div class=\"basic_info\">\n            <h3 class=\"head_line\">\n                <span class=\"tit\">收货信息</span>\n            </h3>\n            <ul class=\"list\">\n                <li>\n                    <span class=\"title\">收货人姓名</span>\n                    <Input style=\"width: 300px\" ref=\"realName\" v-model=\"vm.memberName\" />\n                </li>\n                <li>\n                    <span class=\"title\">收货人电话</span>\n                    <Input style=\"width: 300px\" ref=\"phone\" v-model=\"vm.phone\" />\n                </li>\n                <li>\n                    <span class=\"title\">收货地址</span>\n                    <Input style=\"width: 300px\" ref=\"address\" v-model=\"vm.address\"/>\n                </li>\n            </ul>\n            <div >\n                <Button style=\"margin:0 auto; display:block\" type=\"warning\" @click=\"mSaveAdd\">提交</Button>\n            </div>\n        </div> -->\n    </div>\n    <remote-script src=\"/static/js/refresh.js\"></remote-script>\n  </div>\n</template>\n<script>\nimport window from \"../../mixins/window\";\nexport default {\n  mixins: [window],\n  name: \"UserCenter\",\n  data() {\n    return {\n      vm: {},\n      agnetLevel: \"\",\n      memberLevel: 0,\n      walletlist: [],\n      bindBank: {\n        drawAccountType: \"\"\n      }\n    };\n  },\n  mounted() {\n    this.mLoading(true);\n    this.mGetBindBank();\n    this.$http.get(\"/memberUser/memberinfo.json\").then(result => {\n      if (result.code == 0) {\n        this.agnetLevel = result.data.agnetLevel;\n        this.memberLevel = result.data.memberLevel;\n      }\n    });\n    this.mInit();\n    this.mGetCoins();\n  },\n  methods: {\n    mInit() {\n      this.mLoading(true);\n      this.$http.get(\"/memberUser/memberinfo.json\").then(result => {\n        if (result.code == 0) {\n          this.vm = !!result.data ? result.data : {};\n          if (!!this.vm.realName && !!this.vm.mobile) {\n            this.isDoing = true;\n          } else {\n            this.isDoing = false;\n          }\n        }\n      });\n    },\n    mGetBindBank() {\n      this.$http.get(\"/memberUser/getbindbank.json\").then(result => {\n        if (result.code == 0 && !!result.data) {\n          this.bindBank.drawAccountType = result.data.drawAccountType;\n        }\n      });\n    },\n    mAddBankCard() {\n      this.mWinOpen(\n        \"新增银行卡\",\n        () => import(\"./AddBankCard\"),\n        {},\n        600,\n        () => {\n          this.mGetBindBank();\n        }\n      );\n    },\n    mGetCoins() {\n      this.$http\n        .post(\"/managerGame/getWalletCoins.json\")\n        .then(result => {\n          this.walletlist = result.data.walletlist;\n        })\n        .catch(err => {\n          this.mAlert(\"获取余额失败\");\n        });\n    },\n    mGetCoin(item) {\n      this.mLoading(true);\n      this.$http\n        .get(\"/managerGame/getWalletCoin.json?id=\" + item.gameCompanyId)\n        .then(result => {\n          if (result.code == 0 && result.data > 0) {\n            this.walletlist.forEach(wl => {\n              if (wl.gameCompanyId == item.gameCompanyId) {\n                wl.coin = result.data;\n              }\n            });\n          }\n          this.mLoading(false);\n        })\n        .catch(err => {\n          this.mAlert(\"获取余额失败\");\n        });\n    },\n    mSave() {\n      if (this.isDoing) {\n        this.mAlert(\"如需修改，请联系客服！\", () => {});\n        return this.mInit();\n      }\n      if (!this.vm.realName) {\n        this.mAlert(\"真实姓名必填！\", () => {\n          this.$refs.realName.focus();\n        });\n        return;\n      }\n      if (!this.vm.mobile) {\n        this.mAlert(\"手机号必填！\", () => {\n          this.$refs.mobile.focus();\n        });\n        return;\n      }\n      if (\n        !/^((1[3,4,5,6,7,8,9][0-9])|(14[5,7])|(17[0,6,7,8])|(19[7]))\\d{8}$/.test(\n          this.vm.mobile\n        )\n      ) {\n        this.mAlert(\"请输入正确的手机号码格式\", () => {\n          this.$refs.mobile.focus();\n        });\n        return;\n      }\n      this.isDoing = true;\n      this.mLoading(true);\n      this.$http.post(\"/memberUser/updateinfo.json\", this.vm).then(result => {\n        this.isDoing = false;\n        this.mLoading(false);\n        if (result.code == 0) {\n          this.mAlert(\"恭喜，设置成功！\", () => {});\n          this.mInit();\n        } else {\n          this.mAlert(result.message, () => {});\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.demo-spin-container {\n  display: inline-block;\n  width: 200px;\n  height: 100px;\n  position: relative;\n  border: 1px solid #eee;\n}\n.level-ico{\n  display: inline-block;\n  height: 25px;\n  overflow: hidden;\n  width: 22px;\n}\n\n.level_img_vip0 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0 -5px;  background-size: 22px auto;}\n\n.level_img_vip1 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -33px;  background-size: 22px auto;}\n\n.level_img_vip2 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -60px;  background-size: 22px auto;}\n\n.level_img_vip3 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -88px;  background-size: 22px auto;}\n\n.level_img_vip4 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -115px;  background-size: 22px auto;}\n\n.level_img_vip5 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -143px;  background-size: 22px auto;}\n\n.level_img_vip6 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -170px;  background-size: 22px auto;}\n\n.level_img_vip7 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -198px;  background-size: 22px auto;}\n\n.level_img_vip8 {background: url(\"/static/images/home/live-ico.png\") no-repeat 0px -226px;  background-size: 22px auto;}\n\n.level-name {\n  font-size: 12px;\n  margin-left: 5px;\n  color: #000;\n}\n.tips {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n  .user_title{\n    width: 70px;\n    display: inline-block;;\n  }\n</style>\n\n"]}]}