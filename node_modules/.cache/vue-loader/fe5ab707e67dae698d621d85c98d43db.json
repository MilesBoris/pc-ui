{"remainingRequest":"/Users/hw/work/memberVueD/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hw/work/memberVueD/src/views/Member/IndoorTransfer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hw/work/memberVueD/src/views/Member/IndoorTransfer.vue","mtime":1557285861760},{"path":"/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js","mtime":1552395991950},{"path":"/Users/hw/work/memberVueD/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js","mtime":1552395991950},{"path":"/Users/hw/work/memberVueD/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"IndoorTransfer\",\n  data() {\n    return {\n      walletlist: [],\n      amount: 0,\n      wallet: \"\",\n      gameCompanyId: \"\",\n      vm: {\n        walletIn: \"\",\n        walletOut: \"\",\n        dealCoin: \"\"\n      },\n      agnetLevel: \"\",\n      loading:false\n    };\n  },\n  mounted() {\n    this.mLoading(true);\n    this.$http.get(\"/memberUser/memberinfo.json\").then(result => {\n      if (result.code == 0) {\n        this.agnetLevel = result.data.agnetLevel;\n      }\n    });\n    this.mGetCoins();\n    this.mMemberAmount();\n  },\n  methods: {\n    mGetCoins() {\n      this.$http\n        .post(\"/managerGame/getWalletCoins.json\")\n        .then(result => {\n          this.walletlist = result.data.walletlist;\n        })\n        .catch(err => {\n          this.mAlert(\"获取余额失败\");\n        });\n    },\n    mGetCoin(item) {\n      this.mLoading(true);\n      this.$http\n        .get(\"/managerGame/getWalletCoin.json?id=\" + item.gameCompanyId)\n        .then(result => {\n          if (result.code == 0 && result.data > 0) {\n            this.walletlist.forEach(wl => {\n              if (wl.gameCompanyId == item.gameCompanyId) {\n                wl.coin = result.data;\n              }\n            });\n          }\n          this.mLoading(false);\n        })\n        .catch(err => {\n          this.mAlert(\"获取余额失败\");\n        });\n    },\n    mMemberAmount() {\n      if (!this.cNeedLogin) {\n        this.$http.post(\"/memberUser/memberamount.json\").then(result => {\n          if (result.code == 0) {\n            this.amount = result.data;\n          }\n        });\n      }\n    },\n    mSave() {\n      if (this.loading) {\n        return;\n      }\n      if (this.gameCompanyId == \"\" || this.gameCompanyId <= 0) {\n        this.mAlert(\"请选择要操作的钱包\");\n        return;\n      }\n      if (this.vm.dealCoin < 1) {\n        this.mAlert(\"转账金额必须大于1元\");\n        return;\n      }\n      if (this.vm.dealCoin%1!=0) {\n        //请输入整数\n        this.mAlert(\"请输入整数\");\n        return;\n      }\n      if (this.gameCompanyId > 0) {\n        //转入\n        this.vm.walletIn = this.gameCompanyId;\n        this.vm.walletOut = 0;\n      }\n      this.mLoading(true);\n      this.loading = true;\n      this.$http\n        .post(\"/managerGame/wallettransfer.json\", this.vm)\n        .then(result => {\n          this.mLoading(false);\n          this.loading = false;\n          if (result.code == 0) {\n            if (result.data == 1) {\n              this.mRefreshAccountInfo();\n              this.mAlert(\"操作成功\", () => {});\n            } else if (result.data < 0) {\n              this.mAlert(\"记录转账记录失败\", () => {});\n            } else if (result.data == 2) {\n              this.mAlert(\"操作中心账户失败\", () => {});\n            } else if (result.data == 3) {\n              this.mAlert(\"游戏厅操作失败\", () => {});\n            } else if (result.data == 4) {\n              this.mAlert(\"游戏厅未返回，请联系客服\", () => {});\n            }\n            this.mGetCoins();\n            this.mMemberAmount();\n          } else {\n            this.mAlert(result.message, () => {});\n          }\n        });\n    },\n    mSaveOut() {\n      if (this.loading) {\n        return;\n      }\n      if (this.gameCompanyId == \"\" || this.gameCompanyId <= 0) {\n        this.mAlert(\"请选择要操作的钱包\");\n        return;\n      }\n      if (this.vm.dealCoin < 1) {\n        this.mAlert(\"转账金额必须大于1元\");\n        return;\n      }\n      if (this.gameCompanyId > 0) {\n        //转出\n        this.vm.walletIn = 0;\n        this.vm.walletOut = this.gameCompanyId;\n      }\n      this.mLoading(true);\n      this.loading = true;\n      this.$http\n        .post(\"/managerGame/wallettransfer.json\", this.vm)\n        .then(result => {\n          this.loading = false;\n          this.mLoading(false);\n          if (result.code == 0) {\n            if (result.data == 1) {\n              this.mRefreshAccountInfo();\n              this.mAlert(\"操作成功\", () => {});\n            } else if (result.data < 0) {\n              this.mAlert(\"记录转账记录失败\", () => {});\n            } else if (result.data == 1) {\n              this.mAlert(\"操作成功\", () => {\n                this.mGetCoins();\n              });\n            } else if (result.data == 2) {\n              this.mAlert(\"操作中心账户失败\", () => {});\n            } else if (result.data == 3) {\n              this.mAlert(\"游戏厅操作失败\", () => {});\n            } else if (result.data == 4) {\n              this.mAlert(\"游戏厅未返回，请联系客服\", () => {});\n            }\n            this.mGetCoins();\n            this.mMemberAmount();\n          } else {\n            this.mAlert(result.message, () => {});\n          }\n        });\n    }\n  }\n};\n",{"version":3,"sources":["IndoorTransfer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"IndoorTransfer.vue","sourceRoot":"src/views/Member","sourcesContent":["<template>\n    <div class=\"container user_con\" style=\"margin-top: 72px;\">\n        <div class=\"user_left fl\">\n            <ul>\n                <li>\n                    <router-link :to=\"{name:'UserCenter'}\">个人资料\n                    </router-link>\n                </li>\n                <li>\n                    <router-link :to=\"{name:'SafePassword'}\">安全管理\n                    </router-link>\n                </li>\n                <li class=\"active\">\n                    <router-link :to=\"{name:'FinanceCenter'}\">财务中心\n                    </router-link>\n                </li>\n                <li >\n                    <router-link :to=\"{name:'ReportTransfer'}\">客户报表</router-link>\n                </li>\n                <li v-if=\"agnetLevel>0\">\n                  <router-link :to=\"{name:'AgentThat'}\">代理管理</router-link>\n              </li>\n              <li v-if=\"agnetLevel>0\">\n                  <router-link :to=\"{name:'MembermanAgement'}\">代理报表</router-link>\n              </li>\n                <li>\n                    <router-link :to=\"{name:'ServiceCenter'}\">服务中心</router-link>\n                </li>\n                <li>\n                    <router-link :to=\"{name:'ConversionRecord'}\">商城中心</router-link>\n                </li>\n            </ul>\n        </div>\n        <div class=\"user_right \">\n            <div class=\"userbasic_head\">\n                <router-link :to=\"{name:'FinanceCenter'}\">会员存款</router-link>\n                <router-link :to=\"{name:'FinanceOfflineDeposit'}\">线下存款</router-link>\n                <router-link :to=\"{name:'MemberDrawing'}\">会员提款</router-link>\n                <router-link :to=\"{name:'IndoorTransfer'}\" class=\"active\">户内转账</router-link>\n            </div>\n            <div class=\"userbasic_body\">\n                <form>\n                <div class=\"bank_tips\">温馨提示：查询时，请点击游戏厅刷新额度</div>\n\n                <div class=\"indoor_line\">\n                    <h3><span class=\"tit\">选择账户</span><span class=\"themeCr\"> </span></h3>\n                    <ul class=\"gameroom_list indoor_toplist\">\n                        <li>\n                            <p class=\"transfer_tit\"> 主账户额度</p>\n                            <p class=\"name\">￥<span class=\"pos\" v-text=\"amount / 100\"></span>&nbsp;元</p>\n                            <em></em>\n                        </li>\n                        <input type=\"hidden\" name=\"account1\" value=\"1\">\n                    </ul>\n                </div>\n                <div class=\"indoor_line\">\n                    <h3><span class=\"tit\">选择游戏平台</span><span class=\"themeCr\"></span></h3>\n                    <ul class=\"gameroom_list game_platform\">\n                        <li v-for=\"item in walletlist\" :key=\"item.gameCompanyId\" v-if=\"item.gameCompanyId>0\" class=\"hasnotinfo\" @click=\"gameCompanyId=item.gameCompanyId\" style=\"list-style: none\">\n                            <p class=\"name api_name\">{{item.gameCompanyName}} <span class=\"pos\" v-if=\"item.coin!=-1\">{{item.coin / 100}}</span>\n                            <a class=\"refresh\" @click=\"mGetCoin(item)\"></a></p>\n                            <em></em>\n                        </li>\n                        <input type=\"hidden\" name=\"account1\" value=\"1\">\n                    </ul>\n                    <div style=\"width:100%;height:150px;\" class=\"demo-spin-container\" v-if=\"walletlist.length==0\" relative>\n                          <Spin fix></Spin>\n                    </div>\n                </div>\n                <!-- <div class=\"indoor_line \" >\n                    <h3><span class=\"tit\">选择游戏平台</span></h3>\n                    <ul class=\"gameroom_list game_platform\" v-if=\"walletlist.length>0\">\n                        <li v-for=\"item in walletlist\" :key=\"item.gameCompanyId\" v-if=\"item.gameCompanyId>0\" class=\"hasnotinfo\" @click=\"gameCompanyId=item.gameCompanyId\">\n                            <p class=\"name api_name\">{{item.gameCompanyName}} <span class=\"pos\">{{item.coin / 100}}</span>\n                            <a class=\"refresh\" @click=\"mGetCoin(item)\"></a></p>\n                            <em></em>\n                        </li>\n                    </ul>\n                    <div style=\"width:100%;height:150px;\" class=\"demo-spin-container\" v-if=\"walletlist.length==0\" relative>\n                          <Spin fix></Spin>\n                    </div>\n                </div> -->\n                <div class=\"indoor_line\">\n                    <h3><span class=\"tit\">转账额度</span></h3>\n                    <div class=\"line_form\">\n                        <div class=\"line\">\n                            <input type=\"number\" step=\"1\" min=\"1\" class=\"inp\" v-model=\"vm.dealCoin\">\n                            <span class=\"tips\"><span class=\"themeCr\"></span>元</span>\n                        </div>\n                        <div class=\"line\">\n                            <button type=\"button\" class=\"account_save\" @click=\"mSave\">转入游戏平台</button>\n                            <button class=\"indoor_main\" type=\"button\" style=\"margin-left:15px;\" @click=\"mSaveOut\">转出游戏平台</button>\n                            <input type=\"hidden\" name=\"transfer_type\" value=\"0\">\n                        </div>\n                    </div>\n                </div>\n                </form>\n            </div>\n        </div>\n        <remote-script src=\"/static/js/indoortransfer.js\"></remote-script>\n</div>\n</template>\n<script>\nexport default {\n  name: \"IndoorTransfer\",\n  data() {\n    return {\n      walletlist: [],\n      amount: 0,\n      wallet: \"\",\n      gameCompanyId: \"\",\n      vm: {\n        walletIn: \"\",\n        walletOut: \"\",\n        dealCoin: \"\"\n      },\n      agnetLevel: \"\",\n      loading:false\n    };\n  },\n  mounted() {\n    this.mLoading(true);\n    this.$http.get(\"/memberUser/memberinfo.json\").then(result => {\n      if (result.code == 0) {\n        this.agnetLevel = result.data.agnetLevel;\n      }\n    });\n    this.mGetCoins();\n    this.mMemberAmount();\n  },\n  methods: {\n    mGetCoins() {\n      this.$http\n        .post(\"/managerGame/getWalletCoins.json\")\n        .then(result => {\n          this.walletlist = result.data.walletlist;\n        })\n        .catch(err => {\n          this.mAlert(\"获取余额失败\");\n        });\n    },\n    mGetCoin(item) {\n      this.mLoading(true);\n      this.$http\n        .get(\"/managerGame/getWalletCoin.json?id=\" + item.gameCompanyId)\n        .then(result => {\n          if (result.code == 0 && result.data > 0) {\n            this.walletlist.forEach(wl => {\n              if (wl.gameCompanyId == item.gameCompanyId) {\n                wl.coin = result.data;\n              }\n            });\n          }\n          this.mLoading(false);\n        })\n        .catch(err => {\n          this.mAlert(\"获取余额失败\");\n        });\n    },\n    mMemberAmount() {\n      if (!this.cNeedLogin) {\n        this.$http.post(\"/memberUser/memberamount.json\").then(result => {\n          if (result.code == 0) {\n            this.amount = result.data;\n          }\n        });\n      }\n    },\n    mSave() {\n      if (this.loading) {\n        return;\n      }\n      if (this.gameCompanyId == \"\" || this.gameCompanyId <= 0) {\n        this.mAlert(\"请选择要操作的钱包\");\n        return;\n      }\n      if (this.vm.dealCoin < 1) {\n        this.mAlert(\"转账金额必须大于1元\");\n        return;\n      }\n      if (this.vm.dealCoin%1!=0) {\n        //请输入整数\n        this.mAlert(\"请输入整数\");\n        return;\n      }\n      if (this.gameCompanyId > 0) {\n        //转入\n        this.vm.walletIn = this.gameCompanyId;\n        this.vm.walletOut = 0;\n      }\n      this.mLoading(true);\n      this.loading = true;\n      this.$http\n        .post(\"/managerGame/wallettransfer.json\", this.vm)\n        .then(result => {\n          this.mLoading(false);\n          this.loading = false;\n          if (result.code == 0) {\n            if (result.data == 1) {\n              this.mRefreshAccountInfo();\n              this.mAlert(\"操作成功\", () => {});\n            } else if (result.data < 0) {\n              this.mAlert(\"记录转账记录失败\", () => {});\n            } else if (result.data == 2) {\n              this.mAlert(\"操作中心账户失败\", () => {});\n            } else if (result.data == 3) {\n              this.mAlert(\"游戏厅操作失败\", () => {});\n            } else if (result.data == 4) {\n              this.mAlert(\"游戏厅未返回，请联系客服\", () => {});\n            }\n            this.mGetCoins();\n            this.mMemberAmount();\n          } else {\n            this.mAlert(result.message, () => {});\n          }\n        });\n    },\n    mSaveOut() {\n      if (this.loading) {\n        return;\n      }\n      if (this.gameCompanyId == \"\" || this.gameCompanyId <= 0) {\n        this.mAlert(\"请选择要操作的钱包\");\n        return;\n      }\n      if (this.vm.dealCoin < 1) {\n        this.mAlert(\"转账金额必须大于1元\");\n        return;\n      }\n      if (this.gameCompanyId > 0) {\n        //转出\n        this.vm.walletIn = 0;\n        this.vm.walletOut = this.gameCompanyId;\n      }\n      this.mLoading(true);\n      this.loading = true;\n      this.$http\n        .post(\"/managerGame/wallettransfer.json\", this.vm)\n        .then(result => {\n          this.loading = false;\n          this.mLoading(false);\n          if (result.code == 0) {\n            if (result.data == 1) {\n              this.mRefreshAccountInfo();\n              this.mAlert(\"操作成功\", () => {});\n            } else if (result.data < 0) {\n              this.mAlert(\"记录转账记录失败\", () => {});\n            } else if (result.data == 1) {\n              this.mAlert(\"操作成功\", () => {\n                this.mGetCoins();\n              });\n            } else if (result.data == 2) {\n              this.mAlert(\"操作中心账户失败\", () => {});\n            } else if (result.data == 3) {\n              this.mAlert(\"游戏厅操作失败\", () => {});\n            } else if (result.data == 4) {\n              this.mAlert(\"游戏厅未返回，请联系客服\", () => {});\n            }\n            this.mGetCoins();\n            this.mMemberAmount();\n          } else {\n            this.mAlert(result.message, () => {});\n          }\n        });\n    }\n  }\n};\n</script>\n\n<style>\n.demo-spin-container {\n  display: inline-block;\n  width: 200px;\n  height: 100px;\n  position: relative;\n  border: 1px solid #eee;\n}\n</style>\n"]}]}