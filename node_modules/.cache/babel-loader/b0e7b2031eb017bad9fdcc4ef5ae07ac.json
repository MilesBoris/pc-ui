{"remainingRequest":"/Users/hw/work/memberVueD/node_modules/thread-loader/dist/cjs.js!/Users/hw/work/memberVueD/node_modules/babel-loader/lib/index.js!/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hw/work/memberVueD/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hw/work/memberVueD/src/views/pay/bank/xipay/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hw/work/memberVueD/src/views/pay/bank/xipay/index.vue","mtime":1552384689505},{"path":"/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js","mtime":1552395991950},{"path":"/Users/hw/work/memberVueD/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js","mtime":1552395991950},{"path":"/Users/hw/work/memberVueD/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _parseFloat from \"/Users/hw/work/memberVueD/node_modules/@babel/runtime-corejs2/core-js/parse-float\";\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _this;\n\nvar timerCheck = null;\nexport default {\n  data: function data() {\n    return {\n      amount: \"\",\n      bankPayUrl: '',\n      bankPostParam: {},\n      defaultbank: '',\n      orderNo: ''\n    };\n  },\n  props: {\n    paramData: Object,\n    defult: {}\n  },\n  methods: {\n    mBankPay: function mBankPay() {\n      var _this2 = this;\n\n      if (!this.defaultbank) {\n        this.mAlert(\"请选择银行\");\n        return;\n      }\n\n      if (this.amount < 0) {\n        this.mAlert(\"请输入充值金额\");\n        return;\n      }\n\n      var Amount = _parseFloat(this.amount);\n\n      if (isNaN(Amount)) {\n        this.mAlert(\"您输入的充值金额不正确\");\n        return;\n      }\n\n      if (Amount > 50000) {\n        this.mAlert(\"充值金额不能大于50000\");\n        return;\n      }\n\n      this.isLoading = true;\n      var param = {};\n      param.apiid = this.paramData.apiid;\n      param.serviceType = this.defaultbank; //param.serviceType='';\n\n      param.apitypeid = this.paramData.id;\n      param.orderAmount = Amount;\n      param.isApp = 'web';\n      this.$http.post(\"/recharge/xipay/order.json\", param).then(function (result) {\n        _this2.mLoading(false);\n\n        if (result.code == '0') {\n          _this2.bankPayUrl = result.data.postData.url;\n          _this2.bankPostParam = result.data.postData;\n          _this2.orderNo = result.data.postData.orderNo;\n          setTimeout(function () {\n            _this2.$refs.actform.submit();\n\n            _this2.timerCheck = setTimeout(function () {\n              _this2.checkorder();\n            }, 10000);\n          }, 300);\n        }\n\n        _this2.isLoading = false;\n      });\n    },\n    checkorder: function checkorder() {\n      var _this3 = this;\n\n      this.$http.post(\"/recharge/rechargeState.json?id=\" + this.orderNo, {}).then(function (result) {\n        if (result.code == 0) {\n          if (result.data == 1 || result.data == 3) {\n            _this3.mAlert(\"恭喜，充值成功！\", function () {\n              _this3.mClose();\n            }, \"success\");\n\n            if (_this3.timerCheck != null) {\n              clearTimeout(_this3.timerCheck);\n            }\n          } else if (result.data == 2) {\n            _this3.mAlert(\"抱歉，充值失败请联系客服！\", function () {\n              _this3.mClose();\n            }, \"error\");\n\n            if (_this3.timerCheck != null) {\n              clearTimeout(_this3.timerCheck);\n            }\n          } else {\n            _this3.timerCheck = setTimeout(function () {\n              _this3.checkorder();\n            }, 2000);\n          }\n        } else {\n          _this3.timerCheck = setTimeout(function () {\n            _this3.checkorder();\n          }, 2000);\n        }\n      });\n    }\n  },\n  created: function created() {\n    _this = this;\n  },\n  destroyed: function destroyed() {\n    _this = undefined;\n\n    if (this.timerCheck != null) {\n      clearTimeout(this.timerCheck);\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n <div class=\"bank-list\">\n        <label class=\"bank-list-item\" for=\"inputRadio1\">\n          <input id=\"inputRadio1\" name=\"inputBank\" v-model=\"defaultbank\" value=\"CMB\" type=\"radio\">\n          <img class=\"img\"  src=\"/static/images/pay/bank/xipay/CMB.jpg\">\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio2\">\n          <input id=\"inputRadio2\" name=\"inputBank\" v-model=\"defaultbank\" value=\"ICBC\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/ICBC.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio3\">\n          <input id=\"inputRadio3\" name=\"inputBank\" v-model=\"defaultbank\" value=\"CCB\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/CCB.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio4\">\n          <input id=\"inputRadio4\" name=\"inputBank\" v-model=\"defaultbank\" value=\"BOCM\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/BOCM.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio5\">\n          <input id=\"inputRadio5\" name=\"inputBank\" v-model=\"defaultbank\" value=\"BOC\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/BOC.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio6\">\n          <input id=\"inputRadio6\" name=\"inputBank\" v-model=\"defaultbank\" value=\"ABC\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/ABC.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio7\">\n          <input id=\"inputRadio7\" name=\"inputBank\" v-model=\"defaultbank\" value=\"SPDB\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/SPDB.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio8\">\n          <input id=\"inputRadio8\" name=\"inputBank\" v-model=\"defaultbank\" value=\"BEA\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/BEA.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio9\">\n          <input id=\"inputRadio9\" name=\"inputBank\" v-model=\"defaultbank\" value=\"SRCB\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/SRCB.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio10\">\n          <input id=\"inputRadio10\" name=\"inputBank\" v-model=\"defaultbank\" value=\"CITIC\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/CITIC.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio11\">\n          <input id=\"inputRadio11\" name=\"inputBank\" v-model=\"defaultbank\" value=\"CGB\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/CGB.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio12\">\n          <input id=\"inputRadio12\" name=\"inputBank\" v-model=\"defaultbank\" value=\"CIB\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/CIB.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio13\">\n          <input id=\"inputRadio13\" name=\"inputBank\" v-model=\"defaultbank\" value=\"CMBC\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/CMBC.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio14\">\n          <input id=\"inputRadio14\" name=\"inputBank\" v-model=\"defaultbank\" value=\"HXB\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/HXB.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio15\">\n          <input id=\"inputRadio15\" name=\"inputBank\" v-model=\"defaultbank\" value=\"CEB\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/CEB.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio17\">\n          <input id=\"inputRadio17\" name=\"inputBank\" v-model=\"defaultbank\" value=\"BCCB\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/BCCB.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio18\">\n          <input id=\"inputRadio18\" name=\"inputBank\" v-model=\"defaultbank\" value=\"SHBANK\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/SHBANK.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio19\">\n          <input id=\"inputRadio19\" name=\"inputBank\" v-model=\"defaultbank\" value=\"PSBC\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/PSBC.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio20\">\n          <input id=\"inputRadio20\" name=\"inputBank\" v-model=\"defaultbank\" value=\"BJRCB\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/BJRCB.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio21\">\n          <input id=\"inputRadio21\" name=\"inputBank\" v-model=\"defaultbank\" value=\"PAYH\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/PAYH.jpg\"/>\n        </label>\n        <label class=\"bank-list-item\" for=\"inputRadio22\">\n          <input id=\"inputRadio22\" name=\"inputBank\" v-model=\"defaultbank\" value=\"CZB\" type=\"radio\">\n          <img class=\"img\" src=\"/static/images/pay/bank/xipay/CZB.jpg\"/>\n        </label>\n\n        <!--输入金额部分-->\n        <div style=\"margin-top: 10px;padding-top:20px;border-top:1px solid #dcdcdc;\">\n          <form action=\"javascript:;\" method=\"post\">\n            <div class=\"bank-list-input\">\n              <label for=\"inputMoneyBank\" class=\"bank-list-input-title\">输入金额：</label>\n              <input type=\"text\" id=\"inputMoneyBank\" v-model=\"amount\" class=\"bank-list-input-input\"\n                     placeholder=\"单笔存款限额（元）100-5000\">\n              <label class=\"bank-list-input-title\" style=\"margin-left: 10px\">元</label>\n            </div>\n            <!--支付部分-->\n            <div style=\"text-align: center;\">\n              <button type=\"button\" class=\"ajax-submit-without-confirm-btn account_save\" @click=\"mBankPay\">提交</button>\n            </div>\n          </form>\n        </div>\n\n        <div style=\"display:none;\">\n          <form ref=\"actform\" id=\"actform\" name=\"actform\" method=\"post\" :action=\"bankPayUrl\"\n                target=\"_blank\">\n            <input v-for=\"(item,key) in bankPostParam \" v-if=\"key!='url'\" :key=\"key\" :name=\"key\"\n                   type=\"text\" :value=\"item\">\n          </form>\n        </div>\n      </div>\n</template>\n<script>\nvar _this;\nlet timerCheck=null;\nexport default {\n    data(){\n        return {\n            amount: \"\",\n            bankPayUrl:'',\n            bankPostParam:{},\n            defaultbank:'',\n            orderNo:'',\n        };\n    },\n    props:{\n        paramData:Object,\n        defult:{}\n    },\n    methods: {\n         mBankPay(){\n            if (!this.defaultbank) {\n                this.mAlert(\"请选择银行\");\n                return;\n            }\n            if (this.amount < 0) {\n                this.mAlert(\"请输入充值金额\");\n                return;\n            }\n            let Amount = parseFloat(this.amount);\n            if (isNaN(Amount)) {\n                this.mAlert(\"您输入的充值金额不正确\");\n                return;\n            }\n            if(Amount>50000)\n            {\n                this.mAlert(\"充值金额不能大于50000\");\n                return;\n            }\n            this.isLoading = true;\n            let param={};\n            param.apiid=this.paramData.apiid;\n            param.serviceType=this.defaultbank;\n            //param.serviceType='';\n            param.apitypeid=this.paramData.id;\n            param.orderAmount=Amount;\n            param.isApp='web';\n            this.$http.post(\"/recharge/xipay/order.json\",param).then((result) => {\n                this.mLoading(false);\n                if(result.code=='0')\n                {\n                    this.bankPayUrl=result.data.postData.url;\n                    this.bankPostParam=result.data.postData;\n                    this.orderNo=result.data.postData.orderNo;\n                    setTimeout(()=>{\n                        this.$refs.actform.submit();\n                        this.timerCheck= setTimeout(()=>{this.checkorder()}, 10000);\n                    },300);\n                }\n                this.isLoading = false;\n            });\n        },\n        checkorder()\n        {\n             this.$http.post(\"/recharge/rechargeState.json?id=\"+this.orderNo,{}).then((result) => {\n                 if(result.code==0)\n                 {\n                     if(result.data==1 || result.data==3)\n                     {\n                        this.mAlert(\"恭喜，充值成功！\",()=>{this.mClose()},\"success\");\n                        if (this.timerCheck != null) {\n                            clearTimeout(this.timerCheck);\n                        }\n                     }\n                     else if(result.data==2)\n                     {\n                        this.mAlert(\"抱歉，充值失败请联系客服！\",()=>{this.mClose()},\"error\");\n                        if (this.timerCheck != null) {\n                            clearTimeout(this.timerCheck);\n                        }\n                     }\n                     else {\n                        this.timerCheck=setTimeout(()=>{this.checkorder()}, 2000);\n                    }\n                 }\n                 else {\n                    this.timerCheck=setTimeout(()=>{this.checkorder()}, 2000);\n                }\n             });\n        },\n    },\n    created() {\n        _this = this;\n    },\n    destroyed() {\n        _this = undefined;\n        if (this.timerCheck != null) {\n            clearTimeout(this.timerCheck);\n        }\n    }\n}\n</script>\n<style scoped>\n\n/*在线支付样式*/\n.bank-list-item {\n  cursor: pointer;\n  width: auto;\n  margin-right: 10px;\n  margin-bottom: 10px;\n  margin-left: 5px;\n  display: inline-table;\n}\n/*支付宝支付图标样式*/\n.ali-pay{\n  margin-left: 90px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n/*在线支付单元框样式*/\n.bank-list-item > input {\n  vertical-align: middle;\n}\n\n/*在线支付图片样式*/\n.bank-list-item > img {\n  vertical-align: middle;\n  width: 196px;\n  height: 50px;\n  border: 1px solid rgb(204, 204, 204);\n  margin-left: 12px;\n  display: inline-table;\n}\n\n/*在线支付滑动焦点变化样式*/\n.bank-list-item > img:hover,\n.bank-list-item > img:focus {\n  border: 1px solid rgb(64, 158, 255);;\n}\n\n/*在线支付输入金额*/\n.bank-list-input {\n  margin: 0 auto;\n  text-align: center;\n}\n\n/*在线输入金额标题*/\n.bank-list-input-title {\n  color: #323232;\n  font-size: 24px;\n}\n\n/*在线输入金额输入框*/\n.bank-list-input-input {\n  color: #989898;\n  font-size: 20px;\n  min-width: 360px;\n  height: 48px;\n}\n\n/*在线输入金额立即支付按钮*/\n.bank-list-input-btn {\n  color: #ffffff;\n  background-color: #dc4d74;\n  font-size: 30px;\n  width: 200px;\n  height: 60px;\n  margin-left: 80px;\n}\n\n/*在线输入金额无法支付*/\n.bank-list-input-not-pay {\n  padding-top: 100px;\n  margin-left: 20px;\n  font-size: 20px;\n  text-align: center;\n}\n\n</style>\n\n"],"sourceRoot":"src/views/pay/bank/xipay"}]}