{"remainingRequest":"/Users/hw/work/memberVueD/node_modules/thread-loader/dist/cjs.js!/Users/hw/work/memberVueD/node_modules/babel-loader/lib/index.js!/Users/hw/work/memberVueD/src/store/modules/common.js","dependencies":[{"path":"/Users/hw/work/memberVueD/src/store/modules/common.js","mtime":1553086286370},{"path":"/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js","mtime":1552395991950},{"path":"/Users/hw/work/memberVueD/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _defineProperty from \"/Users/hw/work/memberVueD/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSON$stringify from \"/Users/hw/work/memberVueD/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\n\nvar _mutations, _actions;\n\nimport types from '../mutation-types';\nexport default {\n  state: {\n    gongGaos: [],\n    sessionToken: '',\n    baseUrl: '',\n    baseUrlList: [],\n    systemSettings: {},\n    sysPicObj: {}\n  },\n  getters: {\n    getGonggaos: function getGonggaos(state) {\n      return state.gongGaos;\n    },\n    getSessionToken: function getSessionToken(state) {\n      if (state.sessionToken == '' || state.sessionToken == null) {\n        var token = sessionStorage.getItem(types.SESSION_TOKEN);\n\n        if (!token) {\n          var d = new Date();\n          token = d.getMonth() + 1 + '_' + d.getDate() + '_' + d.getTime();\n          sessionStorage.setItem(types.SESSION_TOKEN, token);\n        }\n\n        state.sessionToken = token;\n      }\n\n      return state.sessionToken;\n    },\n    getBaseUrl: function getBaseUrl(state) {\n      if (state.baseUrl == '' || state.baseUrl == undefined) {\n        return process.env.VUE_APP_BASE_API;\n      }\n\n      return state.baseUrl;\n    },\n    getSysInfo: function getSysInfo(state) {\n      return state.systemSettings;\n    },\n    getSysPicObj: function getSysPicObj(state) {\n      return state.sysPicObj;\n    }\n  },\n  mutations: (_mutations = {}, _defineProperty(_mutations, types.COMMON_GONGGAO, function (state, payload) {\n    state.gongGaos = payload;\n  }), _defineProperty(_mutations, types.SESSION_TOKEN, function (state) {\n    var token = sessionStorage.getItem(types.SESSION_TOKEN);\n\n    if (!token) {\n      var d = new Date();\n      token = d.getMonth() + 1 + '_' + d.getDate() + '_' + d.getTime();\n      sessionStorage.setItem(types.SESSION_TOKEN, token);\n    }\n\n    state.sessionToken = token;\n  }), _defineProperty(_mutations, types.BASE_URL, function (state) {\n    if (state.baseUrl == '' || state.baseUrl == null) {\n      var url = sessionStorage.getItem(types.BASE_URL);\n\n      if (!url || url == 'undefined') {\n        var listStr = localStorage.getItem(types.BASE_URL_LIST);\n\n        if (!listStr || listStr == '[]') {\n          this.commit(types.CHANGE_URL);\n        } else {\n          var list = JSON.parse(listStr); // state.baseUrlList = list\n\n          url = list[0];\n        } // url = state.baseUrlList[0];\n\n\n        sessionStorage.setItem(types.BASE_URL, url);\n      }\n\n      state.baseUrl = url;\n    }\n  }), _defineProperty(_mutations, types.CHANGE_URL, function (state, url) {\n    var listStr = localStorage.getItem(types.BASE_URL_LIST);\n\n    if (!listStr || listStr == '[]') {\n      if (state.apigetnum >= 3) {\n        var list = [];\n        list.push(process.env.VUE_APP_BASE_API);\n        localStorage.setItem(types.BASE_URL_LIST, _JSON$stringify(list));\n        state.baseUrl = process.env.VUE_APP_BASE_API;\n        return;\n      }\n\n      apiGet(process.env.VUE_APP_API_GET, this.commit, this.dispatch);\n      state.apigetnum = state.apigetnum + 1;\n    } else {\n      // listStr.split();\n      var list = JSON.parse(listStr);\n      state.baseUrlList = list.filter(function (i) {\n        return i != url;\n      });\n      localStorage.setItem(types.BASE_URL_LIST, _JSON$stringify(state.baseUrlList));\n    } //     var user = JSON.parse(localStorage.getItem(\"userInfo\"))\n    //     localStorage.remove(\"userInfo\");\n    //     localStorage.clear();\n\n\n    state.baseUrl = state.baseUrlList[0];\n  }), _defineProperty(_mutations, types.SYSTEM_SETTINGS, function (state, payload) {\n    state.systemSettings = payload;\n  }), _defineProperty(_mutations, types.SYS_PIC, function (state, payload) {\n    state.sysPicObj = payload;\n  }), _mutations),\n  actions: (_actions = {}, _defineProperty(_actions, types.COMMON_GONGGAO, function (_ref, vueContext) {\n    var commit = _ref.commit;\n\n    if (!!vueContext) {\n      var sysId = !!vueContext.cLoginUser.sysId ? vueContext.cLoginUser.sysId : null;\n      var params = !sysId ? {} : {\n        sysId: sysId\n      };\n      vueContext.$http.post('/announcements.json', params).then(function (result) {\n        if (result.code === 0) {\n          commit(types.COMMON_GONGGAO, !!result.data ? result.data : []);\n        }\n      });\n    }\n  }), _defineProperty(_actions, types.SYSTEM_SETTINGS, function (_ref2, vueContext) {\n    var commit = _ref2.commit;\n\n    if (vueContext) {\n      vueContext.$http.post('/getsys.json').then(function (res) {\n        if (res.code === 0) {\n          document.title = res.data.name;\n          commit(types.SYSTEM_SETTINGS, res.data);\n          commit(types.SYS_PIC, !!res.data ? res.data : {});\n          var obj = document.getElementById(\"iconlink\");\n          obj.href = res.data.webIcon;\n          obj.type = '';\n          obj.type = 'image/x-icon';\n        }\n      });\n    }\n  }), _actions)\n};",{"version":3,"sources":["/Users/hw/work/memberVueD/src/store/modules/common.js"],"names":["types","state","gongGaos","sessionToken","baseUrl","baseUrlList","systemSettings","sysPicObj","getters","getGonggaos","getSessionToken","token","sessionStorage","getItem","SESSION_TOKEN","d","Date","getMonth","getDate","getTime","setItem","getBaseUrl","undefined","process","env","VUE_APP_BASE_API","getSysInfo","getSysPicObj","mutations","COMMON_GONGGAO","payload","BASE_URL","url","listStr","localStorage","BASE_URL_LIST","commit","CHANGE_URL","list","JSON","parse","apigetnum","push","apiGet","VUE_APP_API_GET","dispatch","filter","i","SYSTEM_SETTINGS","SYS_PIC","actions","vueContext","sysId","cLoginUser","params","$http","post","then","result","code","data","res","document","title","name","obj","getElementById","href","webIcon","type"],"mappings":"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","sourcesContent":["import types from '../mutation-types'\n\nexport default {\n  state: {\n    gongGaos: [],\n    sessionToken: '',\n    baseUrl: '',\n    baseUrlList: [],\n    systemSettings: {},\n    sysPicObj: {},\n  },\n  getters: {\n    getGonggaos: state => {\n      return state.gongGaos\n    },\n    getSessionToken (state) {\n      if (state.sessionToken == '' || state.sessionToken == null) {\n        let token = sessionStorage.getItem(types.SESSION_TOKEN)\n        if (!token) {\n          let d = new Date()\n          token = d.getMonth() + 1 + '_' + d.getDate() + '_' + d.getTime()\n          sessionStorage.setItem(types.SESSION_TOKEN, token)\n        }\n        state.sessionToken = token\n      }\n      return state.sessionToken\n    },\n    getBaseUrl (state) {\n      if (state.baseUrl == '' || state.baseUrl == undefined) {\n        return process.env.VUE_APP_BASE_API\n      }\n      return state.baseUrl\n    },\n    getSysInfo (state) {\n      return state.systemSettings\n    },\n    getSysPicObj (state) {\n      return state.sysPicObj\n    },\n  },\n  mutations: {\n    [types.COMMON_GONGGAO] (state, payload) {\n      state.gongGaos = payload\n    },\n    [types.SESSION_TOKEN] (state) {\n      let token = sessionStorage.getItem(types.SESSION_TOKEN)\n      if (!token) {\n        let d = new Date()\n        token = d.getMonth() + 1 + '_' + d.getDate() + '_' + d.getTime()\n        sessionStorage.setItem(types.SESSION_TOKEN, token)\n      }\n      state.sessionToken = token\n    },\n    [types.BASE_URL] (state) {\n      if (state.baseUrl == '' || state.baseUrl == null) {\n        let url = sessionStorage.getItem(types.BASE_URL)\n        if (!url || url == 'undefined') {\n          var listStr = localStorage.getItem(types.BASE_URL_LIST)\n          if (!listStr || listStr == '[]') {\n            this.commit(types.CHANGE_URL)\n          } else {\n            var list = JSON.parse(listStr)\n            // state.baseUrlList = list\n            url = list[0]\n          }\n          // url = state.baseUrlList[0];\n          sessionStorage.setItem(types.BASE_URL, url)\n        }\n        state.baseUrl = url\n      }\n    },\n    [types.CHANGE_URL] (state, url) {\n      var listStr = localStorage.getItem(types.BASE_URL_LIST)\n      if (!listStr || listStr == '[]') {\n        if (state.apigetnum >= 3) {\n          var list = []\n          list.push(process.env.VUE_APP_BASE_API)\n          localStorage.setItem(types.BASE_URL_LIST, JSON.stringify(list))\n          state.baseUrl = process.env.VUE_APP_BASE_API\n          return\n        }\n        apiGet(process.env.VUE_APP_API_GET, this.commit, this.dispatch)\n        state.apigetnum = state.apigetnum + 1\n      } else {\n        // listStr.split();\n        var list = JSON.parse(listStr)\n        state.baseUrlList = list.filter(i => {\n          return i != url\n        })\n        localStorage.setItem(types.BASE_URL_LIST, JSON.stringify(state.baseUrlList))\n      }\n//     var user = JSON.parse(localStorage.getItem(\"userInfo\"))\n//     localStorage.remove(\"userInfo\");\n//     localStorage.clear();\n      state.baseUrl = state.baseUrlList[0]\n    },\n    [types.SYSTEM_SETTINGS] (state, payload) {\n      state.systemSettings = payload\n    },\n    [types.SYS_PIC] (state, payload) {\n      state.sysPicObj = payload\n    },\n  },\n  actions: {\n    [types.COMMON_GONGGAO] ({ commit }, vueContext) {\n      if (!!vueContext) {\n        let sysId = !!vueContext.cLoginUser.sysId ? vueContext.cLoginUser.sysId : null\n        let params = !sysId ? {} : { sysId: sysId }\n\n        vueContext.$http.post('/announcements.json', params).then(result => {\n          if (result.code === 0) {\n            commit(types.COMMON_GONGGAO, !!result.data ? result.data : [])\n          }\n        })\n      }\n    },\n    [types.SYSTEM_SETTINGS] ({ commit }, vueContext) {\n      if (vueContext) {\n        vueContext.$http.post('/getsys.json').then(res => {\n          if (res.code === 0) {\n            document.title = res.data.name\n            commit(types.SYSTEM_SETTINGS, res.data)\n            commit(types.SYS_PIC, !!res.data ? res.data : {});\n            var obj = document.getElementById(\"iconlink\")\n            obj.href = res.data.webIcon;\n            obj.type = '';\n            obj.type = 'image/x-icon';\n          }\n        })\n      }\n    }\n  }\n}\n"]}]}