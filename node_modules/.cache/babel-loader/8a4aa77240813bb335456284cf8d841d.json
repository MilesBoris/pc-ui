{"remainingRequest":"/Users/hw/work/memberVueD/node_modules/thread-loader/dist/cjs.js!/Users/hw/work/memberVueD/node_modules/babel-loader/lib/index.js!/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hw/work/memberVueD/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hw/work/memberVueD/src/views/Member/AgentDrawing.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hw/work/memberVueD/src/views/Member/AgentDrawing.vue","mtime":1552384689499},{"path":"/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js","mtime":1552395991950},{"path":"/Users/hw/work/memberVueD/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js","mtime":1552395991950},{"path":"/Users/hw/work/memberVueD/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$assign from \"/Users/hw/work/memberVueD/node_modules/@babel/runtime-corejs2/core-js/object/assign\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport window from \"../../mixins/window\";\nexport default {\n  name: \"MemberDrawing\",\n  mixins: [window],\n  data: function data() {\n    return {\n      vmCard: {\n        drawAccountName: \"\",\n        drawAccountType: \"\",\n        account: \"\",\n        drawAddress: \"\",\n        bankTypeName: \"\",\n        agentCashBalance: 0\n      },\n      vm: {\n        dealcoin: \"\",\n        coinpwd: \"\"\n      }\n    };\n  },\n  computed: {\n    cAgentCashBalance: function cAgentCashBalance() {\n      var cb = this.vmCard.agentCashBalance / 100;\n      return cb ? cb : 0;\n    }\n  },\n  mounted: function mounted() {\n    this.mInit();\n  },\n  methods: {\n    mInit: function mInit() {\n      var _this = this;\n\n      this.mLoading(true);\n      this.$http.all([this.mGetAgentCashBalance(), this.mGetBindBank()]).then(this.$http.spread(function (resAgentCashBalance, rbindbank) {\n        if (resAgentCashBalance.data == -1) {\n          _this.mAlert(\"请先设置资金密码\", function () {\n            _this.$router.push({\n              name: \"SafePassword\"\n            });\n          });\n        } else if (resAgentCashBalance.data == -2) {\n          _this.mAlert(\"请先绑定银行卡\", function () {\n            _this.mWinOpen(\"新增银行卡\", function () {\n              return import(\"./AddBankCard\");\n            }, {}, 600);\n          });\n        } else {\n          _this.vmCard.agentCashBalance = resAgentCashBalance.data;\n        }\n\n        if (rbindbank.code == 0) {\n          _this.vmCard = _Object$assign(_this.vmCard, rbindbank.data);\n        }\n\n        _this.mLoading(false);\n      }));\n    },\n    mGetAgentCashBalance: function mGetAgentCashBalance() {\n      return this.$http.get(\"/agentUser/agentCashBalance.json\");\n    },\n    mGetBindBank: function mGetBindBank() {\n      return this.$http.get(\"/memberUser/getbindbank.json\");\n    },\n    mSave: function mSave() {\n      var _this2 = this;\n\n      if (this.vm.dealcoin == \"\") {\n        this.mAlert(\"取现金额不能为空\");\n        return;\n      }\n\n      if (this.vm.dealcoin < 1) {\n        this.mAlert(\"取现金额必须大于1元\");\n        return;\n      }\n\n      if (this.vm.coinpwd == \"\") {\n        this.mAlert(\"请输入资金密码\");\n        return;\n      }\n\n      if (this.vm.dealcoin > this.cAgentCashBalance) {\n        this.mAlert(\"余额不足\");\n        return;\n      }\n\n      this.mLoading(true);\n\n      var params = _Object$assign({}, this.vm);\n\n      this.$http.post(\"/agentUser/agentcash.json\", params).then(function (result) {\n        _this2.mLoading(false);\n\n        if (result.code == 0) {\n          if (result.data == 0) {\n            _this2.mAlert(\"提现成功\");\n          } else if (result.data == 1) {\n            _this2.mAlert(\"请先设置资金密码\", function () {\n              _this2.$router.push({\n                name: \"SafePassword\"\n              });\n            });\n          } else if (result.data == 2) {\n            _this2.mAlert(\"请先绑定银行卡\", function () {\n              _this2.mWinOpen(\"新增银行卡\", function () {\n                return import(\"./AddBankCard\");\n              }, {}, 600);\n            });\n          }\n        } else {\n          _this2.mAlert(result.message);\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["AgentDrawing.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA,OAAA,MAAA,MAAA,qBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,MAAA,EAAA,CAAA,MAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AACA,QAAA,eAAA,EAAA,EADA;AAEA,QAAA,eAAA,EAAA,EAFA;AAGA,QAAA,OAAA,EAAA,EAHA;AAIA,QAAA,WAAA,EAAA,EAJA;AAKA,QAAA,YAAA,EAAA,EALA;AAMA,QAAA,gBAAA,EAAA;AANA,OADA;AASA,MAAA,EAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA;AAFA;AATA,KAAA;AAcA,GAlBA;AAmBA,EAAA,QAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,UAAA,EAAA,GAAA,KAAA,MAAA,CAAA,gBAAA,GAAA,GAAA;AACA,aAAA,EAAA,GAAA,EAAA,GAAA,CAAA;AACA;AAJA,GAnBA;AAyBA,EAAA,OAzBA,qBAyBA;AACA,SAAA,KAAA;AACA,GA3BA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,WAAA,QAAA,CAAA,IAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,CAAA,KAAA,oBAAA,EAAA,EAAA,KAAA,YAAA,EAAA,CAAA,EAAA,IAAA,CACA,KAAA,KAAA,CAAA,MAAA,CAAA,UAAA,mBAAA,EAAA,SAAA,EAAA;AACA,YAAA,mBAAA,CAAA,IAAA,IAAA,CAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,UAAA,EAAA,YAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA,IAAA,EAAA;AAAA,aAAA;AACA,WAFA;AAGA,SAJA,MAIA,IAAA,mBAAA,CAAA,IAAA,IAAA,CAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,SAAA,EAAA,YAAA;AACA,YAAA,KAAA,CAAA,QAAA,CACA,OADA,EAEA;AAAA,qBAAA,OAAA,eAAA,CAAA;AAAA,aAFA,EAGA,EAHA,EAIA,GAJA;AAMA,WAPA;AAQA,SATA,MASA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,gBAAA,GAAA,mBAAA,CAAA,IAAA;AACA;;AACA,YAAA,SAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,eAAA,KAAA,CAAA,MAAA,EAAA,SAAA,CAAA,IAAA,CAAA;AACA;;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,KAAA;AACA,OArBA,CADA;AAwBA,KA3BA;AA4BA,IAAA,oBA5BA,kCA4BA;AACA,aAAA,KAAA,KAAA,CAAA,GAAA,CAAA,kCAAA,CAAA;AACA,KA9BA;AA+BA,IAAA,YA/BA,0BA+BA;AACA,aAAA,KAAA,KAAA,CAAA,GAAA,CAAA,8BAAA,CAAA;AACA,KAjCA;AAkCA,IAAA,KAlCA,mBAkCA;AAAA;;AACA,UAAA,KAAA,EAAA,CAAA,QAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,UAAA;AACA;AACA;;AACA,UAAA,KAAA,EAAA,CAAA,QAAA,GAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,YAAA;AACA;AACA;;AACA,UAAA,KAAA,EAAA,CAAA,OAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA;AACA;AACA;;AACA,UAAA,KAAA,EAAA,CAAA,QAAA,GAAA,KAAA,iBAAA,EAAA;AACA,aAAA,MAAA,CAAA,MAAA;AACA;AACA;;AACA,WAAA,QAAA,CAAA,IAAA;;AACA,UAAA,MAAA,GAAA,eAAA,EAAA,EAAA,KAAA,EAAA,CAAA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,2BAAA,EAAA,MAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA;;AACA,YAAA,MAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,MAAA;AACA,WAFA,MAEA,IAAA,MAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA,YAAA;AACA,cAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA;AACA,aAFA;AAGA,WAJA,MAIA,IAAA,MAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,YAAA;AACA,cAAA,MAAA,CAAA,QAAA,CACA,OADA,EAEA;AAAA,uBAAA,OAAA,eAAA,CAAA;AAAA,eAFA,EAGA,EAHA,EAIA,GAJA;AAMA,aAPA;AAQA;AACA,SAjBA,MAiBA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,OAAA;AACA;AACA,OAtBA;AAuBA;AA5EA;AA5BA,CAAA","sourcesContent":["<template>\n  <div\n    class=\"container user_con\"\n    style=\"margin-top: 72px;\"\n  >\n    <div class=\"user_left fl\">\n      <ul>\n        <li>\n          <router-link :to=\"{name:'UserCenter'}\">个人资料</router-link>\n        </li>\n        <li>\n          <router-link :to=\"{name:'SafePassword'}\">安全管理</router-link>\n        </li>\n        <li>\n          <router-link :to=\"{name:'FinanceCenter'}\">财务中心</router-link>\n        </li>\n        <li>\n          <router-link :to=\"{name:'ReportTransfer'}\">客户报表</router-link>\n        </li>\n        <li class=\"active\">\n          <router-link :to=\"{name:'AgentThat'}\">代理管理</router-link>\n        </li>\n        <li>\n          <router-link :to=\"{name:'MembermanAgement'}\">代理报表</router-link>\n        </li>\n        <li>\n          <router-link :to=\"{name:'ServiceCenter'}\">服务中心</router-link>\n        </li>\n        <li>\n          <router-link :to=\"{name:'ConversionRecord'}\">商城中心</router-link>\n        </li>\n      </ul>\n    </div>\n    <div class=\"user_right\">\n      <div class=\"userbasic_head\">\n        <router-link :to=\"{name:'AgentThat'}\">代理说明</router-link>\n        <router-link :to=\"{name:'AgentrEportforms'}\">会员管理</router-link>\n        <router-link :to=\"{name:'OpenAccounts'}\">下级开户</router-link>\n        <router-link :to=\"{name:'OpenInvitation'}\">推广链接</router-link>\n        <router-link :to=\"{name:'LinkManagement'}\">链接管理</router-link>\n        <router-link\n          :to=\"{name:'AgentDrawing'}\"\n          class=\"active\"\n        >分红提现</router-link>\n      </div>\n      <div class=\"userbasic_body\">\n        <!-- <div class=\"bank_tips\">温馨提示：每天提款次数不限 (当天北京时间00:00:00-次日23:59:59)</div> -->\n        <div class=\"line_form\">\n          <form\n            action=\"#\"\n            method=\"post\"\n          >\n            <div class=\"line\">\n              <span class=\"tit\">分红钱包余额</span>\n              <span>\n                <Tag type=\"border\">{{cAgentCashBalance}}</Tag>\n              </span>\n            </div>\n            <div class=\"line\">\n              <span class=\"tit\">开户姓名</span>\n              <span>{{vmCard.drawAccountName}}</span>\n            </div>\n            <div class=\"line\">\n              <span class=\"tit\">收款银行</span>\n              <span>{{vmCard.bankTypeName}}</span>\n            </div>\n            <div class=\"line\">\n              <span class=\"tit\">银行账号</span>\n              <span>{{vmCard.account}}</span>\n            </div>\n            <div class=\"line\">\n              <span class=\"tit\">开户行网点</span>\n              <span>{{vmCard.drawAddress}}</span>\n            </div>\n            <div\n              class=\"line\"\n              v-if=\"cAgentCashBalance>0\"\n            >\n              <span class=\"tit\">提款金额</span>\n              <input\n                type=\"text\"\n                class=\"inp\"\n                :disabled=\"cAgentCashBalance<=0\"\n                v-model=\"vm.dealcoin\"\n                placeholder=\"输入提款金额(最低100)\"\n              >\n              <span class=\"tips error-tips\">提款金额不能少于100元</span>\n            </div>\n            <div\n              class=\"line\"\n              v-if=\"cAgentCashBalance>0\"\n            >\n              <span class=\"tit\">取款密码</span>\n              <input\n                type=\"password\"\n                class=\"inp\"\n                :disabled=\"cAgentCashBalance<=0\"\n                v-model=\"vm.coinpwd\"\n                placeholder=\"请输入支付密码\"\n                maxlength=\"6\"\n              >\n            </div>\n            <div\n              class=\"line\"\n              v-if=\"cAgentCashBalance>0\"\n            >\n              <span class=\"tit\"></span>\n              <button\n                type=\"button\"\n                :disabled=\"cAgentCashBalance<=0\"\n                class=\"ajax-submit-without-confirm-btn account_save\"\n                @click=\"mSave\"\n              >确定</button>\n            </div>\n            <div\n              class=\"line\"\n              v-if=\"cAgentCashBalance<=0\"\n            >\n              <span class=\"tit\"></span>\n              <span class=\"tips error-tips\">分红钱包余额暂不支持取现</span>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport window from \"../../mixins/window\";\nexport default {\n  name: \"MemberDrawing\",\n  mixins: [window],\n  data() {\n    return {\n      vmCard: {\n        drawAccountName: \"\",\n        drawAccountType: \"\",\n        account: \"\",\n        drawAddress: \"\",\n        bankTypeName: \"\",\n        agentCashBalance: 0\n      },\n      vm: {\n        dealcoin: \"\",\n        coinpwd: \"\"\n      }\n    };\n  },\n  computed: {\n    cAgentCashBalance() {\n      let cb = this.vmCard.agentCashBalance / 100;\n      return cb ? cb : 0;\n    }\n  },\n  mounted() {\n    this.mInit();\n  },\n  methods: {\n    mInit() {\n      this.mLoading(true);\n      this.$http.all([this.mGetAgentCashBalance(), this.mGetBindBank()]).then(\n        this.$http.spread((resAgentCashBalance, rbindbank) => {\n          if (resAgentCashBalance.data == -1) {\n            this.mAlert(\"请先设置资金密码\", () => {\n              this.$router.push({ name: \"SafePassword\" });\n            });\n          } else if (resAgentCashBalance.data == -2) {\n            this.mAlert(\"请先绑定银行卡\", () => {\n              this.mWinOpen(\n                \"新增银行卡\",\n                () => import(\"./AddBankCard\"),\n                {},\n                600\n              );\n            });\n          } else {\n            this.vmCard.agentCashBalance = resAgentCashBalance.data;\n          }\n          if (rbindbank.code == 0) {\n            this.vmCard = Object.assign(this.vmCard, rbindbank.data);\n          }\n          this.mLoading(false);\n        })\n      );\n    },\n    mGetAgentCashBalance() {\n      return this.$http.get(\"/agentUser/agentCashBalance.json\");\n    },\n    mGetBindBank() {\n      return this.$http.get(\"/memberUser/getbindbank.json\");\n    },\n    mSave() {\n      if (this.vm.dealcoin == \"\") {\n        this.mAlert(\"取现金额不能为空\");\n        return;\n      }\n      if (this.vm.dealcoin < 1) {\n        this.mAlert(\"取现金额必须大于1元\");\n        return;\n      }\n      if (this.vm.coinpwd == \"\") {\n        this.mAlert(\"请输入资金密码\");\n        return;\n      }\n      if (this.vm.dealcoin > this.cAgentCashBalance) {\n        this.mAlert(\"余额不足\");\n        return;\n      }\n      this.mLoading(true);\n      let params = Object.assign({}, this.vm);\n      this.$http.post(\"/agentUser/agentcash.json\", params).then(result => {\n        this.mLoading(false);\n        if (result.code == 0) {\n          if (result.data == 0) {\n            this.mAlert(\"提现成功\");\n          } else if (result.data == 1) {\n            this.mAlert(\"请先设置资金密码\", () => {\n              this.$router.push({ name: \"SafePassword\" });\n            });\n          } else if (result.data == 2) {\n            this.mAlert(\"请先绑定银行卡\", () => {\n              this.mWinOpen(\n                \"新增银行卡\",\n                () => import(\"./AddBankCard\"),\n                {},\n                600\n              );\n            });\n          }\n        } else {\n          this.mAlert(result.message);\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/views/Member"}]}