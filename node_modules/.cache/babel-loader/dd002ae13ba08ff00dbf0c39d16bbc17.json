{"remainingRequest":"/Users/hw/work/memberVueD/node_modules/thread-loader/dist/cjs.js!/Users/hw/work/memberVueD/node_modules/babel-loader/lib/index.js!/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hw/work/memberVueD/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hw/work/memberVueD/src/views/Member/FinanceOfflineDeposit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hw/work/memberVueD/src/views/Member/FinanceOfflineDeposit.vue","mtime":1557216682347},{"path":"/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js","mtime":1552395991950},{"path":"/Users/hw/work/memberVueD/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hw/work/memberVueD/node_modules/cache-loader/dist/cjs.js","mtime":1552395991950},{"path":"/Users/hw/work/memberVueD/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$assign from \"/Users/hw/work/memberVueD/node_modules/@babel/runtime-corejs2/core-js/object/assign\";\nimport _parseFloat from \"/Users/hw/work/memberVueD/node_modules/@babel/runtime-corejs2/core-js/parse-float\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport _parseInt from \"/Users/hw/work/memberVueD/node_modules/@babel/runtime-corejs2/core-js/parse-int\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Clipboard from 'clipboard';\n\nvar _this;\n\nexport default {\n  data: function data() {\n    return {\n      active: 0,\n      agnetLevel: '',\n      amount: '',\n      checkedApiType: [],\n      rechargeTypes: [],\n      rechargeOther: [],\n      companyAccounts: [],\n      underlineTypes: [],\n      bankPayOnlines: [],\n      //网银在线支付集合\n      banktypes: [],\n      isShowTip: false,\n      vmunderline: {\n        orderAmount: '',\n        underlineType: '',\n        underlineBankType: '',\n        underlineAccountName: '',\n        companyAccountId: '',\n        remark: ''\n      },\n      realAmount: 0,\n      minAmount: 0,\n      payName: '',\n      selectedBank: {},\n      selectedBankPayOnlinePath: '',\n      //选择的网银支付渠道对应的VUE组件路径\n      bankPayOnlineParam: {} //网银支付渠道 动态组件 要传到子组件的参数\n\n    };\n  },\n  props: {\n    paramData: Object,\n    defult: {}\n  },\n  filters: {\n    payWay: function payWay(v) {\n      if (v) {\n        return _this.underlineTypes.filter(function (item) {\n          return item.id == v;\n        })[0].value;\n      }\n    }\n  },\n  watch: {\n    selectedBank: function selectedBank() {\n      if (this.selectedBank.accountType == 1) {\n        this.vmunderline.underlineType = '-104';\n        this.payName = this.underlineTypes.filter(function (item) {\n          return item.id == '-104';\n        })[0].value;\n        this.vmunderline.underlineBankType = this.selectedBank.drawAccountType;\n      }\n\n      if (this.selectedBank.accountType == 2) {\n        this.vmunderline.underlineType = '-105';\n        this.payName = this.underlineTypes.filter(function (item) {\n          return item.id == '-105';\n        })[0].value;\n        this.vmunderline.underlineBankType = this.selectedBank.drawAccountType;\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.mLoading(true);\n    this.$http.get('/memberUser/memberinfo.json').then(function (result) {\n      if (result.code == 0) {\n        _this2.agnetLevel = result.data.agnetLevel;\n      }\n    });\n  },\n  methods: {\n    //线下充值方式\n    mUnderlineTypes: function mUnderlineTypes() {\n      return this.$http.post('/recharge/underline.json');\n    },\n    //获取充值银行信息\n    mCompanyAccount: function mCompanyAccount() {\n      return this.$http.post('/recharge/companyAccount.json');\n    },\n    //银行大分类信息\n    mBanktypes: function mBanktypes() {\n      return this.$http.post('/banktypes.json', {\n        lineCountry: this.sysInfo.lineCountry\n      });\n    },\n    mInit: function mInit() {\n      var _this3 = this;\n\n      //线下支付方式\n      this.$http.all([this.mUnderlineTypes(), this.mCompanyAccount(), this.mBanktypes()]).then(this.$http.spread(function (rUnderlineTypes, rCompanyAccount, rBanktypes) {\n        _this3.mLoading(false);\n\n        if (rUnderlineTypes.code == 0) {\n          _this3.underlineTypes = rUnderlineTypes.data.typelist;\n        } else {// this.mAlert(rUnderlineTypes.message, () => { },\"error\");\n        }\n\n        if (rCompanyAccount.code == 0) {\n          rCompanyAccount.data.forEach(function (ele) {\n            ele.isActive = false;\n          });\n          _this3.companyAccounts = rCompanyAccount.data;\n        }\n\n        if (rBanktypes.code == 0) {\n          _this3.banktypes = rBanktypes.data.list;\n        }\n      }));\n    },\n    //充值银行选择\n    mSelected: function mSelected(item) {\n      this.companyAccounts.forEach(function (ele) {\n        ele.isActive = false;\n\n        if (ele.id == item.id) {\n          ele.isActive = true;\n          _this.selectedBank = ele;\n        }\n      });\n      this.active = 1;\n      this.vmunderline.companyAccountId = item.id;\n      this.vmunderline.minMoney = item.minMoney;\n    },\n    //复制功能\n    copy: function copy() {\n      var clipboard = new ClipboardJS('.clipboard'); //成功回调\n\n      clipboard.on('success', function (e) {\n        _this.$message({\n          message: '内容已复制到剪贴板',\n          type: 'success'\n        });\n      }); //失败回调\n\n      clipboard.on('error', function (e) {// _this.$message.error('错了哦，这是一条错误消息');\n      });\n    },\n    checkFrom: function checkFrom() {\n      if (this.vmunderline.underlineAccountName == '') {\n        this.mAlert('请输入打款人姓名');\n        return;\n      }\n\n      if (this.vmunderline.companyAccountId == '') {\n        this.mAlert('请选择要打款到哪个银行');\n        return;\n      }\n\n      if (this.vmunderline.companyAccountId < 1) {\n        this.mAlert('请选择要打款到哪个银行');\n        return;\n      }\n\n      if (this.vmunderline.underlineType == '') {\n        this.mAlert('请选择打款方式');\n        return;\n      }\n\n      this.vmunderline.underlineType = _parseInt(this.vmunderline.underlineType);\n\n      if (isNaN(this.vmunderline.underlineType)) {\n        this.mAlert('请选择打款方式');\n        return;\n      }\n\n      if (this.vmunderline.underlineBankType == '') {\n        this.mAlert('请选择打款所在银行');\n        return;\n      }\n\n      if (this.vmunderline.underlineBankType < 1) {\n        this.mAlert('请选择打款所在银行');\n        return;\n      }\n\n      if (this.vmunderline.orderAmount.includes('.')) {\n        //请输入整数金额\n        this.mAlert('请输入整数金额');\n        return;\n      }\n\n      if (this.vmunderline.orderAmount == '') {\n        this.mAlert('充值金额不能为空');\n        return;\n      }\n\n      if (this.vmunderline.orderAmount < this.vmunderline.minMoney / 100) {\n        this.mAlert('充值金额必须大于' + this.vmunderline.minMoney / 100 + '元');\n        return;\n      }\n\n      this.active = 2;\n      this.realAmount = this.vmunderline.orderAmount;\n\n      if (this.selectedBank.accountType == 1 || this.selectedBank.accountType == 2) {\n        this.minAmount = _parseInt(Math.random() * (99 - 10 + 1) + 10, 10);\n      }\n    },\n    infoSubmit: function infoSubmit() {\n      var _this4 = this;\n\n      this.mLoading(true);\n      this.vmunderline.orderAmount = _parseFloat(this.vmunderline.orderAmount) + _parseFloat(this.minAmount / 100); //先检查是否给手续费\n\n      var params = _Object$assign({}, this.vmunderline);\n\n      this.$http.post('/recharge/underlineorder.json', params).then(function (result) {\n        _this4.mLoading(false);\n\n        if (result.code == 0) {\n          _this4.active = 3; // this.mAlert(\"恭喜提交成功，赶快去打款吧！\", () => {}, \"success\");\n        } else {\n          _this4.mAlert(result.message, function () {}, 'error');\n        }\n      });\n    }\n  },\n  created: function created() {\n    _this = this;\n    this.mInit();\n  } // destroyed() {\n  //   !!timer && clearTimeout(timer);\n  //   _this = undefined;\n  // }\n\n};",{"version":3,"sources":["FinanceOfflineDeposit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4OA,OAAA,SAAA,MAAA,WAAA;;AAEA,IAAA,KAAA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,MAAA,EAAA,CADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,EAHA;AAIA,MAAA,cAAA,EAAA,EAJA;AAKA,MAAA,aAAA,EAAA,EALA;AAMA,MAAA,aAAA,EAAA,EANA;AAOA,MAAA,eAAA,EAAA,EAPA;AAQA,MAAA,cAAA,EAAA,EARA;AASA,MAAA,cAAA,EAAA,EATA;AASA;AACA,MAAA,SAAA,EAAA,EAVA;AAWA,MAAA,SAAA,EAAA,KAXA;AAYA,MAAA,WAAA,EAAA;AACA,QAAA,WAAA,EAAA,EADA;AAEA,QAAA,aAAA,EAAA,EAFA;AAGA,QAAA,iBAAA,EAAA,EAHA;AAIA,QAAA,oBAAA,EAAA,EAJA;AAKA,QAAA,gBAAA,EAAA,EALA;AAMA,QAAA,MAAA,EAAA;AANA,OAZA;AAoBA,MAAA,UAAA,EAAA,CApBA;AAqBA,MAAA,SAAA,EAAA,CArBA;AAsBA,MAAA,OAAA,EAAA,EAtBA;AAuBA,MAAA,YAAA,EAAA,EAvBA;AAwBA,MAAA,yBAAA,EAAA,EAxBA;AAwBA;AACA,MAAA,kBAAA,EAAA,EAzBA,CAyBA;;AAzBA,KAAA;AAAA,GADA;AA4BA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA,MADA;AAEA,IAAA,MAAA,EAAA;AAFA,GA5BA;AAgCA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,kBACA,CADA,EACA;AACA,UAAA,CAAA,EAAA;AACA,eAAA,KAAA,CAAA,cAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,EAAA,IAAA,CAAA;AAAA,SAAA,EAAA,CAAA,EAAA,KAAA;AACA;AACA;AALA,GAhCA;AAwCA,EAAA,KAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,UAAA,KAAA,YAAA,CAAA,WAAA,IAAA,CAAA,EAAA;AACA,aAAA,WAAA,CAAA,aAAA,GAAA,MAAA;AACA,aAAA,OAAA,GAAA,KAAA,cAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,EAAA,IAAA,MAAA;AAAA,SAAA,EAAA,CAAA,EAAA,KAAA;AACA,aAAA,WAAA,CAAA,iBAAA,GAAA,KAAA,YAAA,CAAA,eAAA;AACA;;AACA,UAAA,KAAA,YAAA,CAAA,WAAA,IAAA,CAAA,EAAA;AACA,aAAA,WAAA,CAAA,aAAA,GAAA,MAAA;AACA,aAAA,OAAA,GAAA,KAAA,cAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,EAAA,IAAA,MAAA;AAAA,SAAA,EAAA,CAAA,EAAA,KAAA;AACA,aAAA,WAAA,CAAA,iBAAA,GAAA,KAAA,YAAA,CAAA,eAAA;AACA;AACA;AAZA,GAxCA;AAsDA,EAAA,OAtDA,qBAsDA;AAAA;;AACA,SAAA,QAAA,CAAA,IAAA;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,6BAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,MAAA,CAAA,IAAA,CAAA,UAAA;AACA;AACA,KAJA;AAKA,GA7DA;AA8DA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,eAFA,6BAEA;AACA,aAAA,KAAA,KAAA,CAAA,IAAA,CAAA,0BAAA,CAAA;AACA,KAJA;AAKA;AACA,IAAA,eANA,6BAMA;AACA,aAAA,KAAA,KAAA,CAAA,IAAA,CAAA,+BAAA,CAAA;AACA,KARA;AASA;AACA,IAAA,UAVA,wBAUA;AACA,aAAA,KAAA,KAAA,CAAA,IAAA,CAAA,iBAAA,EAAA;AAAA,QAAA,WAAA,EAAA,KAAA,OAAA,CAAA;AAAA,OAAA,CAAA;AACA,KAZA;AAaA,IAAA,KAbA,mBAaA;AAAA;;AACA;AACA,WAAA,KAAA,CACA,GADA,CACA,CACA,KAAA,eAAA,EADA,EAEA,KAAA,eAAA,EAFA,EAGA,KAAA,UAAA,EAHA,CADA,EAMA,IANA,CAOA,KAAA,KAAA,CAAA,MAAA,CAAA,UAAA,eAAA,EAAA,eAAA,EAAA,UAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA;;AACA,YAAA,eAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,cAAA,GAAA,eAAA,CAAA,IAAA,CAAA,QAAA;AACA,SAFA,MAEA,CACA;AACA;;AACA,YAAA,eAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,eAAA,CAAA,IAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,QAAA,GAAA,KAAA;AACA,WAFA;AAGA,UAAA,MAAA,CAAA,eAAA,GAAA,eAAA,CAAA,IAAA;AACA;;AACA,YAAA,UAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,UAAA,CAAA,IAAA,CAAA,IAAA;AACA;AACA,OAhBA,CAPA;AAyBA,KAxCA;AAyCA;AACA,IAAA,SA1CA,qBA0CA,IA1CA,EA0CA;AACA,WAAA,eAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,GAAA,CAAA,QAAA,GAAA,KAAA;;AACA,YAAA,GAAA,CAAA,EAAA,IAAA,IAAA,CAAA,EAAA,EAAA;AACA,UAAA,GAAA,CAAA,QAAA,GAAA,IAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,GAAA;AACA;AACA,OANA;AAOA,WAAA,MAAA,GAAA,CAAA;AACA,WAAA,WAAA,CAAA,gBAAA,GAAA,IAAA,CAAA,EAAA;AACA,WAAA,WAAA,CAAA,QAAA,GAAA,IAAA,CAAA,QAAA;AACA,KArDA;AAsDA;AACA,IAAA,IAvDA,kBAuDA;AACA,UAAA,SAAA,GAAA,IAAA,WAAA,CAAA,YAAA,CAAA,CADA,CAEA;;AACA,MAAA,SAAA,CAAA,EAAA,CAAA,SAAA,EAAA,UAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,WADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAIA,OALA,EAHA,CASA;;AACA,MAAA,SAAA,CAAA,EAAA,CAAA,OAAA,EAAA,UAAA,CAAA,EAAA,CACA;AACA,OAFA;AAGA,KApEA;AAqEA,IAAA,SArEA,uBAqEA;AACA,UAAA,KAAA,WAAA,CAAA,oBAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,UAAA;AACA;AACA;;AACA,UAAA,KAAA,WAAA,CAAA,gBAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,aAAA;AACA;AACA;;AAEA,UAAA,KAAA,WAAA,CAAA,gBAAA,GAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,aAAA;AACA;AACA;;AACA,UAAA,KAAA,WAAA,CAAA,aAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA;AACA;AACA;;AACA,WAAA,WAAA,CAAA,aAAA,GAAA,UAAA,KAAA,WAAA,CAAA,aAAA,CAAA;;AAEA,UAAA,KAAA,CAAA,KAAA,WAAA,CAAA,aAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA;AACA;AACA;;AACA,UAAA,KAAA,WAAA,CAAA,iBAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,WAAA;AACA;AACA;;AACA,UAAA,KAAA,WAAA,CAAA,iBAAA,GAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,WAAA;AACA;AACA;;AACA,UAAA,KAAA,WAAA,CAAA,WAAA,CAAA,QAAA,CAAA,GAAA,CAAA,EAAA;AACA;AACA,aAAA,MAAA,CAAA,SAAA;AACA;AACA;;AACA,UAAA,KAAA,WAAA,CAAA,WAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,UAAA;AACA;AACA;;AACA,UAAA,KAAA,WAAA,CAAA,WAAA,GAAA,KAAA,WAAA,CAAA,QAAA,GAAA,GAAA,EAAA;AACA,aAAA,MAAA,CAAA,aAAA,KAAA,WAAA,CAAA,QAAA,GAAA,GAAA,GAAA,GAAA;AACA;AACA;;AACA,WAAA,MAAA,GAAA,CAAA;AACA,WAAA,UAAA,GAAA,KAAA,WAAA,CAAA,WAAA;;AACA,UAAA,KAAA,YAAA,CAAA,WAAA,IAAA,CAAA,IAAA,KAAA,YAAA,CAAA,WAAA,IAAA,CAAA,EAAA;AACA,aAAA,SAAA,GAAA,UAAA,IAAA,CAAA,MAAA,MAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AACA;AACA,KAvHA;AAwHA,IAAA,UAxHA,wBAwHA;AAAA;;AAEA,WAAA,QAAA,CAAA,IAAA;AACA,WAAA,WAAA,CAAA,WAAA,GAAA,YAAA,KAAA,WAAA,CAAA,WAAA,IAAA,YAAA,KAAA,SAAA,GAAA,GAAA,CAAA,CAHA,CAIA;;AACA,UAAA,MAAA,GAAA,eAAA,EAAA,EAAA,KAAA,WAAA,CAAA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,+BAAA,EAAA,MAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA;;AACA,YAAA,MAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,CAAA,CADA,CAEA;AACA,SAHA,MAGA;AACA,UAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,OAAA,EAAA,YAAA,CAAA,CAAA,EAAA,OAAA;AACA;AACA,OARA;AASA;AAvIA,GA9DA;AAuMA,EAAA,OAvMA,qBAuMA;AACA,IAAA,KAAA,GAAA,IAAA;AACA,SAAA,KAAA;AACA,GA1MA,CA2MA;AACA;AACA;AACA;;AA9MA,CAAA","sourcesContent":["<template>\n    <div class=\"container user_con\" style=\"margin-top: 70px;\">\n        <div class=\"user_left fl\">\n            <ul>\n                <li>\n                    <router-link :to=\"{name:'UserCenter'}\">个人资料\n                    </router-link>\n                </li>\n                <li>\n                    <router-link :to=\"{name:'SafePassword'}\">安全管理\n                    </router-link>\n                </li>\n                <li class=\"active\">\n                    <router-link :to=\"{name:'FinanceCenter'}\">财务中心\n                    </router-link>\n                </li>\n                <li>\n                    <router-link :to=\"{name:'ReportTransfer'}\">客户报表</router-link>\n                </li>\n                <li v-if=\"agnetLevel>0\">\n                    <router-link :to=\"{name:'AgentThat'}\">代理管理</router-link>\n                </li>\n                <li v-if=\"agnetLevel>0\">\n                    <router-link :to=\"{name:'MembermanAgement'}\">代理报表</router-link>\n                </li>\n                <li>\n                    <router-link :to=\"{name:'ServiceCenter'}\">服务中心</router-link>\n                </li>\n                <li>\n                    <router-link :to=\"{name:'ConversionRecord'}\">商城中心</router-link>\n                </li>\n            </ul>\n        </div>\n\n        <div class=\"user_right \">\n            <div class=\"userbasic_head\">\n                <router-link :to=\"{name:'FinanceCenter'}\">会员存款</router-link>\n                <router-link :to=\"{name:'FinanceOfflineDeposit'}\" class=\"active\">线下存款</router-link>\n                <router-link :to=\"{name:'MemberDrawing'}\">会员提款</router-link>\n                <router-link :to=\"{name:'IndoorTransfer'}\">户内转账</router-link>\n            </div>\n            <!--内容行-->\n            <div>\n                <!--充值流程标题-->\n                <div class=\"all-title\">\n                    <strong>线下充值流程</strong>\n                </div>\n\n                <!--充值流程图片-->\n                <!--<img src=\"/static/images/home/deponsit_off_line_flow_path.png\" id=\"flowPath\"/>-->\n\n                <el-steps :active=\"active\" align-center finish-status=\"success\"\n                          style=\"margin-top: 50px; margin-bottom: 50px\">\n                    <el-step title=\"选择充值银行\"></el-step>\n                    <el-step title=\"填写转账信息\"></el-step>\n                    <el-step title=\"线下充值打款\"></el-step>\n                    <el-step title=\"审核通过到账\"></el-step>\n                </el-steps>\n\n                <div v-if=\"active==0\" style=\"margin-bottom: 30px\">\n                    <div class=\"all-title\" style=\"margin-bottom: 20px\">\n                        <strong>1、请勾选充值银行</strong>\n                    </div>\n                    <div v-for=\"(item,i) in companyAccounts\" :key=\"i\" v-if=\"item.accountType==1 || item.accountType==2\"\n                         :class=\"['bank-info-list',{'bank-info-list-bord':item.isActive}]\" @click=\"mSelected(item)\"\n                         style=\"height:100px;margin-bottom: 10px\">\n\n                        <dl style=\"height:100px\">\n                            <dd class=\"banks\" style=\"margin-left: 50px;margin-top: 5px\">\n                                <img :src=\"item.logo\" alt=\"\">\n                            </dd>\n                            <dd style=\"float: right;\"><input name=\"bankInfoId\" type=\"radio\" value=\"\"\n                                                             style=\"display: none;\"></dd>\n                        </dl>\n                        <div :class=\"{'bank-info-list-sel-badage':item.isActive}\"></div>\n                    </div>\n                    <div v-for=\"(item,i) in companyAccounts\" :key=\"i\"\n                         v-if=\"item.accountType!==1 && item.accountType!==2\"\n                         :class=\"['bank-info-list',{'bank-info-list-bord':item.isActive}]\" @click=\"mSelected(item)\"\n                         style=\"height:100px;margin-bottom: 10px\">\n\n                        <dl style=\"height:100px\">\n                            <dd class=\"banks\" style=\"margin-left: 50px;margin-top: 5px\">\n                                <img :src=\"item.logo\" alt=\"\">\n                            </dd>\n                            <dd style=\"float: right;\"><input name=\"bankInfoId\" type=\"radio\" value=\"\"\n                                                             style=\"display: none;\"></dd>\n                        </dl>\n\n                        <div :class=\"{'bank-info-list-sel-badage':item.isActive}\"></div>\n                    </div>\n\n                    <!--<div class=\"info-submit-container\">-->\n                    <!--<el-button type=\"primary\"  @click=\"checkOne\">下一步</el-button>-->\n                    <!--</div>-->\n                </div>\n\n                <div v-if=\"active==1\">\n                    <div class=\"all-title\" style=\"margin-bottom: 40px\">\n                        <strong>2、提交转账信息</strong>\n                    </div>\n                    <div class=\"input-info-group\">\n                        <span class=\"input-title\">转账人姓名：</span>\n                        <Input prefix=\"ios-contact\" placeholder=\"请输入转账人姓名\" style=\"width: auto\"\n                               v-model=\"vmunderline.underlineAccountName\"/>\n                        <span class=\"input-title\" style=\"margin-left: 200px\">转账方式：</span>\n                        <span v-if=\"selectedBank.accountType==1 || selectedBank.accountType==2\" v-text=\"payName\"\n                              style=\"width:200px;display: inline-block\"></span>\n                        <Select v-model=\"vmunderline.underlineType\" style=\"width:200px;\" v-else>\n                            <Option v-for=\"(item, index) in underlineTypes\"\n                                    :key=\"index\" :value=\"item.id\"\n                                    v-text=\"item.value\" aria-selected=\"true\"\n                            >\n                            </Option>\n                        </Select>\n                    </div>\n\n                    <div class=\"input-info-group\">\n                        <span class=\"input-title\" style=\"margin-left: 42px\">附言：</span>\n                        <Input prefix=\"ios-brush\" placeholder=\"请输入内容\" style=\"width: auto\" v-model=\"vmunderline.remark\"/>\n                        <span class=\"input-title\" style=\"margin-left: 187px\">转账人银行：</span>\n                        <span v-if=\"selectedBank.accountType==1 || selectedBank.accountType==2\"\n                              style=\"width:200px;display: inline-block\"\n                              v-text=\"banktypes.filter(item=>item.id==selectedBank.drawAccountType)[0].bankName\"\n                        >\n                        </span>\n                        <Select v-model=\"vmunderline.underlineBankType\" style=\"width:200px\" v-else>\n                            <Option v-for=\"(item, index) in banktypes\" :key=\"index\" :value=\"item.id\"\n                                    v-text=\"item.bankName\"></Option>\n                        </Select>\n                    </div>\n                    <div class=\"input-info-group\">\n                        <span class=\"input-title\" style=\"margin-left: 14px\">充值金额：</span>\n                        <Input prefix=\"logo-yen\"\n                               :placeholder=\"'额度：'+selectedBank.minMoney/100+' ~ '+ selectedBank.maxMoney/100+' 元'\"\n                               style=\"width: auto\"\n                               v-model=\"vmunderline.orderAmount\"/>\n                    </div>\n\n                    <div class=\"info-submit-container\">\n                        <el-button type=\"primary\" @click=\"checkFrom\">下一步</el-button>\n                    </div>\n\n                </div>\n\n                <div v-if=\"active==2\" style=\"position: relative\">\n                    <div class=\"all-title\" style=\"margin-bottom: 30px\">\n                        <strong>3、线下充值打款</strong>\n                    </div>\n                    <div class=\"input-info-group\">\n                        <div class=\"pay-right\" v-if=\"selectedBank.accountType==1 || selectedBank.accountType==2\">\n                            <div style=\"font-size: 14px;margin-top: 10px;color: red;\">转账金额 (须包含小数位)</div>\n                            <div v-if=\"selectedBank.accountType==1\">请用支付宝扫描下方二维码完成支付</div>\n                            <div v-if=\"selectedBank.accountType==2\">请用微信扫描下方二维码完成支付</div>\n                            <img :src=\"selectedBank.payAddress\" style=\"width:220px;height:220px;margin-top: 25px;\"/>\n                        </div>\n                        <div class=\"pay-info\">\n                            <span>充值金额:</span>\n                            <span style=\"font-weight: bold\">\n                                {{realAmount}}\n                                <span style=\"color: red;\" v-if=\"minAmount\">.{{minAmount}}</span>\n                            </span>\n                        </div>\n                        <div class=\"pay-info\">\n                            <span>收款人姓名:</span>\n                            <span v-text=\"selectedBank.bankAccountName\"></span>\n                            <el-button class=\"clipboard\"\n                                       type=\"info\"\n                                       size=\"mini\"\n                                       icon=\"el-icon-edit-outline\"\n                                       @click=\"copy\"\n                                       :data-clipboard-text=\"selectedBank.bankAccountName\"\n                            >\n                                复制\n                            </el-button>\n\n                        </div>\n                        <div class=\"pay-info\">\n                            <span>收款人卡号:</span>\n                            <span v-text=\"selectedBank.account\" style=\"font-weight: bold\"></span>\n                            <el-button class=\"clipboard\"\n                                       type=\"info\"\n                                       size=\"mini\"\n                                       icon=\"el-icon-edit-outline\"\n                                       @click=\"copy\"\n                                       :data-clipboard-text=\"selectedBank.account\"\n                            >\n                                复制\n                            </el-button>\n                        </div>\n                        <div class=\"pay-info\">\n                            <span>账户类型:</span>\n                            <span v-text=\"selectedBank.drawAccountTypeStr\"></span>\n                        </div>\n                        <div class=\"pay-info\">\n                            <span>开户行网点:</span>\n                            <span v-text=\"selectedBank.bankAddress\"></span>\n                            <el-button class=\"clipboard\"\n                                       type=\"info\"\n                                       size=\"mini\"\n                                       icon=\"el-icon-edit-outline\"\n                                       @click=\"copy\"\n                                       :data-clipboard-text=\"selectedBank.bankAddress\"\n                            >\n                                复制\n                            </el-button>\n                        </div>\n                        <div class=\"pay-info\">\n                            <span>转账方式:</span>\n                            <span>{{ vmunderline.underlineType | payWay }}</span>\n                        </div>\n                        <div class=\"pay-info\">\n                            <span>附言:</span>\n                            <span v-text=\"vmunderline.remark\"></span>\n                        </div>\n                    </div>\n\n                    <div class=\"info-submit-container\">\n                        <el-button type=\"success\" icon=\"el-icon-success\" @click=\"infoSubmit\">我已打款</el-button>\n                    </div>\n                </div>\n\n                <div v-if=\"active==3\" style=\"position: relative\">\n                    <div class=\"all-title\" style=\"margin-bottom: 30px\">\n                        <strong>4、审核通过到账</strong>\n                    </div>\n                    <div style=\"text-align: center;margin-top: 30px;font-size: 16px\">\n                        订单已提交, 请您耐心等待！如出现到账问题,请及时联系客服！\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n  import Clipboard from 'clipboard'\n\n  var _this\n  export default {\n    data: () => ({\n      active: 0,\n      agnetLevel: '',\n      amount: '',\n      checkedApiType: [],\n      rechargeTypes: [],\n      rechargeOther: [],\n      companyAccounts: [],\n      underlineTypes: [],\n      bankPayOnlines: [], //网银在线支付集合\n      banktypes: [],\n      isShowTip: false,\n      vmunderline: {\n        orderAmount: '',\n        underlineType: '',\n        underlineBankType: '',\n        underlineAccountName: '',\n        companyAccountId: '',\n        remark: ''\n      },\n      realAmount: 0,\n      minAmount: 0,\n      payName: '',\n      selectedBank: {},\n      selectedBankPayOnlinePath: '', //选择的网银支付渠道对应的VUE组件路径\n      bankPayOnlineParam: {} //网银支付渠道 动态组件 要传到子组件的参数\n    }),\n    props: {\n      paramData: Object,\n      defult: {}\n    },\n    filters: {\n      payWay (v) {\n        if (v) {\n          return _this.underlineTypes.filter(item => item.id == v)[0].value\n        }\n      }\n    },\n\n    watch: {\n      selectedBank () {\n        if (this.selectedBank.accountType == 1) {\n          this.vmunderline.underlineType = '-104'\n          this.payName = this.underlineTypes.filter(item => item.id == '-104')[0].value\n          this.vmunderline.underlineBankType = this.selectedBank.drawAccountType\n        }\n        if (this.selectedBank.accountType == 2) {\n          this.vmunderline.underlineType = '-105'\n          this.payName = this.underlineTypes.filter(item => item.id == '-105')[0].value\n          this.vmunderline.underlineBankType = this.selectedBank.drawAccountType\n        }\n      },\n    },\n    mounted () {\n      this.mLoading(true)\n      this.$http.get('/memberUser/memberinfo.json').then(result => {\n        if (result.code == 0) {\n          this.agnetLevel = result.data.agnetLevel\n        }\n      })\n    },\n    methods: {\n      //线下充值方式\n      mUnderlineTypes () {\n        return this.$http.post('/recharge/underline.json')\n      },\n      //获取充值银行信息\n      mCompanyAccount () {\n        return this.$http.post('/recharge/companyAccount.json')\n      },\n      //银行大分类信息\n      mBanktypes () {\n        return this.$http.post('/banktypes.json',{lineCountry:this.sysInfo.lineCountry})\n      },\n      mInit () {\n        //线下支付方式\n        this.$http\n          .all([\n            this.mUnderlineTypes(),\n            this.mCompanyAccount(),\n            this.mBanktypes()\n          ])\n          .then(\n            this.$http.spread((rUnderlineTypes, rCompanyAccount, rBanktypes) => {\n              this.mLoading(false)\n              if (rUnderlineTypes.code == 0) {\n                this.underlineTypes = rUnderlineTypes.data.typelist\n              } else {\n                // this.mAlert(rUnderlineTypes.message, () => { },\"error\");\n              }\n              if (rCompanyAccount.code == 0) {\n                rCompanyAccount.data.forEach(ele => {\n                  ele.isActive = false\n                })\n                this.companyAccounts = rCompanyAccount.data\n              }\n              if (rBanktypes.code == 0) {\n                this.banktypes = rBanktypes.data.list\n              }\n            })\n          )\n      },\n      //充值银行选择\n      mSelected (item) {\n        this.companyAccounts.forEach(ele => {\n          ele.isActive = false\n          if (ele.id == item.id) {\n            ele.isActive = true\n            _this.selectedBank = ele\n          }\n        })\n        this.active = 1\n        this.vmunderline.companyAccountId = item.id\n        this.vmunderline.minMoney = item.minMoney\n      },\n      //复制功能\n      copy () {\n        var clipboard = new ClipboardJS('.clipboard')\n        //成功回调\n        clipboard.on('success', function (e) {\n          _this.$message({\n            message: '内容已复制到剪贴板',\n            type: 'success'\n          })\n        })\n        //失败回调\n        clipboard.on('error', function (e) {\n          // _this.$message.error('错了哦，这是一条错误消息');\n        })\n      },\n      checkFrom () {\n        if (this.vmunderline.underlineAccountName == '') {\n          this.mAlert('请输入打款人姓名')\n          return\n        }\n        if (this.vmunderline.companyAccountId == '') {\n          this.mAlert('请选择要打款到哪个银行')\n          return\n        }\n\n        if (this.vmunderline.companyAccountId < 1) {\n          this.mAlert('请选择要打款到哪个银行')\n          return\n        }\n        if (this.vmunderline.underlineType == '') {\n          this.mAlert('请选择打款方式')\n          return\n        }\n        this.vmunderline.underlineType = parseInt(this.vmunderline.underlineType)\n\n        if (isNaN(this.vmunderline.underlineType)) {\n          this.mAlert('请选择打款方式')\n          return\n        }\n        if (this.vmunderline.underlineBankType == '') {\n          this.mAlert('请选择打款所在银行')\n          return\n        }\n        if (this.vmunderline.underlineBankType < 1) {\n          this.mAlert('请选择打款所在银行')\n          return\n        }\n        if (this.vmunderline.orderAmount.includes('.')) {\n          //请输入整数金额\n          this.mAlert('请输入整数金额')\n          return\n        }\n        if (this.vmunderline.orderAmount == '') {\n          this.mAlert('充值金额不能为空')\n          return\n        }\n        if (this.vmunderline.orderAmount < this.vmunderline.minMoney / 100) {\n          this.mAlert('充值金额必须大于' + this.vmunderline.minMoney / 100 + '元')\n          return\n        }\n        this.active = 2;\n        this.realAmount = this.vmunderline.orderAmount;\n        if (this.selectedBank.accountType == 1 || this.selectedBank.accountType == 2) {\n          this.minAmount = parseInt(Math.random() * (99 - 10 + 1) + 10, 10);\n        }\n      },\n      infoSubmit () {\n\n        this.mLoading(true)\n        this.vmunderline.orderAmount = parseFloat(this.vmunderline.orderAmount) + parseFloat(this.minAmount / 100)\n        //先检查是否给手续费\n        let params = Object.assign({}, this.vmunderline)\n        this.$http.post('/recharge/underlineorder.json', params).then(result => {\n          this.mLoading(false)\n          if (result.code == 0) {\n            this.active = 3\n            // this.mAlert(\"恭喜提交成功，赶快去打款吧！\", () => {}, \"success\");\n          } else {\n            this.mAlert(result.message, () => {}, 'error')\n          }\n        })\n      }\n    },\n    created () {\n      _this = this\n      this.mInit()\n    }\n    // destroyed() {\n    //   !!timer && clearTimeout(timer);\n    //   _this = undefined;\n    // }\n  }\n</script>\n\n<style scoped>\n    /*所有的文字父布局*/\n    .all-title {\n        margin-left: 50px;\n        margin-top: 30px;\n        font-size: 30px;\n        color: #535664;\n    }\n\n    .imaginary-line {\n        height: 1px;\n        border: 1px dashed grey;\n        margin-left: 30px;\n        margin-right: 30px;\n        margin-top: 20px;\n    }\n\n    /*充值流程样式*/\n    #flowPath {\n        margin-left: 50px;\n        margin-top: 10px;\n        width: 800px;\n        height: 130px;\n    }\n\n    /*银行信息列表item*/\n    .bank-info-list {\n        margin-top: 20px;\n        margin-left: 50px;\n        width: 250px;\n        height: 150px;\n        position: relative;\n        display: inline-grid;\n    }\n\n    /*银行信息显示内容父布局*/\n    .bank-info-list dl {\n        /* cursor: pointer;\n        background: #fff;\n        padding: 10px; */\n        width: 250px;\n        padding: 15px 0;\n        border: 1px solid #dcdcdc;\n        box-shadow: 0 0 5px rgba(0, 0, 0, 0.12);\n        margin-right: 1%;\n        border-radius: 8px;\n        position: relative;\n        float: left;\n        height: 150px;\n    }\n\n    /*银行图标logo父级布局*/\n    .bank-info-list dd.banks {\n        display: inline-block;\n        width: 139px;\n        height: 58px;\n    }\n\n    /*银行图标logo布局*/\n    .bank-info-list dd.banks img {\n        width: 100%;\n        height: 100%;\n    }\n\n    /*银行卡信息列表标题*/\n    .bank-info-list dd {\n        margin-left: 20px;\n        font-size: 14px;\n        width: auto;\n        line-height: 20px;\n    }\n\n    /*银行卡信心列表内容*/\n    .bank-info-list dd em {\n        font-family: \"Microsoft YaHei,微软雅黑\";\n        font-style: normal;\n    }\n\n    /*银行卡信息选中状态变更边框改变*/\n    .bank-info-list-bord {\n        background: #fffaf8;\n        box-shadow: 0 0 5px #ff7469;\n        border-color: #ff7469;\n        border-radius: 8px;\n    }\n\n    /*银行卡信息选中主观题变更图片改变*/\n    .bank-info-list-sel-badage {\n        width: 21px;\n        height: 21px;\n        position: absolute;\n        background: url(/static/images/sel_badage.png);\n        border-bottom-right-radius: 8px;\n        bottom: 0;\n        right: 0;\n    }\n\n    /*输入容器样式*/\n    .input-info-group {\n        margin-left: 50px;\n        margin-top: 20px;\n    }\n\n    /*输入框标题样式*/\n    .input-title {\n        font-size: 14px;\n        color: #323232;\n    }\n\n    /*输入框输入样式*/\n    .input-content {\n        color: #989898;\n        background-color: rgb(240, 240, 240);\n        border: 1px grey;\n        border-radius: 5px;\n        padding-left: 10px;\n    }\n\n    /*提交按钮容器*/\n    .info-submit-container {\n        width: 100%;\n        height: auto;\n        text-align: center;\n        padding-top: 40px;\n    }\n\n    /*在线输入金额立即支付按钮*/\n    .info-submit {\n        color: #ffffff;\n        background-color: #dc4d74;\n        font-size: 30px;\n        width: 200px;\n        height: 60px;\n    }\n\n    .cardNo {\n        display: inline-block;\n        width: 72%;\n    }\n\n    .btn-copy {\n        cursor: pointer;\n        height: 23px;\n        font-size: 13px;\n        line-height: 14px;\n    }\n\n    .pay-info {\n        margin-left: 28px;\n        font-size: 16px;\n    }\n\n    .pay-info span {\n        height: 41px;\n        line-height: 41px;\n        display: inline-block;\n        text-align: left;\n        font-size: 15px;\n    }\n\n    .pay-info span:first-child {\n        width: 130px;\n        font-weight: bold;\n    }\n\n    .pay-info span:nth-child(2) {\n        min-width: 165px;\n        margin-right: 15px;\n    }\n\n    .bank-info-list:hover {\n        cursor: pointer;\n        background: #fffaf8;\n        -webkit-box-shadow: 0 0 5px #ff7469;\n        box-shadow: 0 0 5px #ff7469;\n        border-color: #ff7469;\n        border-radius: 8px;\n    }\n\n    .pay-right {\n        position: absolute;\n        top: 70px;\n        right: 0;\n        width: 500px;\n        display: flex;\n        justify-content: center;\n        flex-direction: column;\n        align-items: center;\n        font-size: 15px;\n        font-weight: bold;\n    }\n\n    strong {\n        font-size: 18px;\n    }\n</style>\n"],"sourceRoot":"src/views/Member"}]}